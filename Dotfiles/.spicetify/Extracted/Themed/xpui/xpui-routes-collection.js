"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[309],{72465:(e,t,n)=>{n.r(t),n.d(t,{Collection:()=>vt,default:()=>Ct});var l=n(67294),a=n.n(l),r=n(65858),s=n(61377),c=n(20657);const o=(0,n(20573).P1)((e=>e.features),(e=>(null==e?void 0:e.enableShows)||!1));var i=n(9746),u=n(28638),m=n(32648),d=n(64005),g=n(85951);var f=n(55084);const E=({isAudiobooksEnabled:e})=>{const t=function(){const[e,t]=(0,l.useState)(window.innerWidth),{scrollNodeChildRef:n}=(0,l.useContext)(m.VX),a=(0,d.y)((e=>{null!=e&&e.width&&t(e.width)}),250);return(0,g.y)({refOrElement:n,observeOnly:"width",onResize:a}),e}(),n=(0,r.v9)(o),s=(0,l.useMemo)((()=>[{title:c.ag.get("playlists"),itemId:"collection.tab-playlists",to:"/collection/playlists"},...n?[{title:c.ag.get("podcasts"),itemId:"collection.tab-podcasts",to:"/collection/podcasts",uri:"spotify:user:@:collection:podcasts"}]:[],...e?[{title:"Audiobooks",itemId:"collection.tab-audiobooks",to:"/collection/audiobooks",uri:"spotify:user:@:collection:audiobooks"}]:[],{title:c.ag.get("artists"),itemId:"collection.tab-artists",to:"/collection/artists",uri:"spotify:user:@:collection:artists"},{title:c.ag.get("albums"),itemId:"collection.tab-albums",to:"/collection/albums",uri:"spotify:user:@:collection:albums"}]),[n,e]);return a().createElement(u.w,null,a().createElement(i.n,{className:f.Z.tabBar,links:s,windowSize:t}))};var p=n(19565),b=n(64230),y=n(76343),h=n(45342),v=n(59713),C=n.n(v),k=n(69518),O=n.n(k),S=n(5292);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const A=e=>x(x({},e),{},{id:O().from(e.uri).getBase62Id(),external_urls:{spotify:""},href:"",images:e.images.map((e=>e.label?{url:e.url,label:e.label}:{url:e.url,height:e.height,width:e.width}))}),D=e=>e.map(A),P=S.oT.ADDED_AT,I=S.oT.ADDED_AT,N=S.oT.ADDED_AT,R=S.oT.MOST_RELEVANT,T=S.oT.ADDED_AT;var j=n(22423),L=n(88852),Y=n(14590),B=n(76391),Z=n(6489);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){const l=M({},n);return l.entities=t?e.items||[]:l.entities.concat(e.items||[]),l.total=e.totalLength,l.next=e.next,l}function G(e,t){const n=M({},t),l=t.entities.filter((t=>t.uri!==e));return n.total=(t.total||0)-(t.entities.length-l.length),n.entities=l,n}const W={offset:0,limit:1},U=()=>{const e=(0,l.useContext)(h.H);return(e=>{const[t,n]=(0,l.useState)(null),a=(0,l.useCallback)((async()=>{if(!e)return;const t=await e();n((null==t?void 0:t.totalLength)||0)}),[e]);return(0,l.useEffect)((()=>{null===t&&a()}),[t,a]),{total:t}})((0,l.useCallback)((()=>e?null==e?void 0:e.getShows(W):Promise.resolve({totalLength:0})),[e]))};var q=n(1663),F=n(94522),z=n(89477),V=n(42922),$=n(33241),K=n(35168),Q=n(43782);const X=a().memo((({nrArtists:e})=>{const t=(0,l.useContext)(h.H),{filter:n}=(0,l.useContext)(j.fo),{sortState:r}=(0,l.useContext)(Y.Q),s=(0,l.useRef)(null),[o,i]=(0,l.useState)(e),u=(0,l.useCallback)((async(e,l)=>{const a=await t.getArtists({offset:e,limit:l,filter:n,sort:(0,S.e3)(r)});return a.totalLength!==o&&i(a.totalLength),a.items}),[t,n,r,o]),m=(0,l.useCallback)(((e,t)=>a().createElement(V.ZP,{key:e.uri,value:"card",index:t},a().createElement(z.I,{index:t,entity:e}))),[]);return(0,l.useEffect)((()=>{s.current&&s.current.update()}),[r,n,e]),a().createElement(a().Fragment,null,a().createElement("div",{className:f.Z.header},a().createElement(y.Dy,{as:"h1",variant:y.Dy.canon},c.ag.get("artists")),a().createElement(l.Suspense,{fallback:null},a().createElement(L.E,{filterPlaceholder:c.ag.get("collection.filter.artists"),sortOptions:S.o$}))),a().createElement(F.g,{nrCards:o,renderCard:m,fetchData:u,cardGridApiRef:s}))})),J=a().memo((({nrArtists:e})=>{const t=(0,l.useContext)(h.H),[n,r]=(0,l.useState)({entities:[],total:e}),s=(0,l.useRef)(!1),o=(0,l.useRef)(!1),i=(0,l.useCallback)((async()=>{if(!o.current&&!s.current){var e;s.current=!0;const l=await t.getArtists({offset:null!==(e=n.next)&&void 0!==e?e:void 0});l.next||(o.current=!0),s.current=!1,n.next&&l.next===n.next||r(H(l,!1,n))}}),[t,n]),u=(0,l.useCallback)((e=>{r(G(e,n))}),[n]);return a().createElement($.C,{onReachBottom:i,triggerOnInitialLoad:!0},a().createElement("div",{className:f.Z.header},a().createElement(y.Dy,{as:"h1",variant:y.Dy.canon},c.ag.get("artists"))),a().createElement(Q.Y,{onCollectionItemRemove:u},a().createElement(K.D,{entities:D(n.entities)})))})),ee=a().memo((()=>{const{total:e}=(()=>{const e=(0,l.useContext)(h.H),[t,n]=(0,l.useState)(null),a=(0,l.useCallback)((async()=>{if(!e)return;const t=await(null==e?void 0:e.getArtists(W));n((null==t?void 0:t.totalLength)||0)}),[e]);return(0,l.useEffect)((()=>{null===t&&a()}),[t,a]),(0,B.b)(Z.EW.UPDATE,a),{total:t}})(),t=(0,l.useContext)(h.H),{canFetchArtistsWithOffset:n}=t.getCapabilities();return null===e?a().createElement(q.h,{errorMessage:c.ag.get("error.request-collection-artists-failure")}):e>0?n?a().createElement(X,{nrArtists:e}):a().createElement(J,{nrArtists:e}):a().createElement(p.u,{message:c.ag.get("collection.empty-page.artists-subtitle"),title:c.ag.get("collection.empty-page.artists-title"),linkTo:"/search",linkTitle:c.ag.get("collection.empty-page.artists-cta")},a().createElement(b.d,{size:64,viewBox:"0 0 64 64"}))})),te=a().memo((()=>a().createElement(Y.$,{uri:"collection/artists",defaultSortOption:I},a().createElement(j.hz,{uri:"collection/artists"},a().createElement(ee,null)))));var ne=n(84200),le=n(3634);const ae=a().memo((({nrAlbums:e})=>{const t=(0,l.useContext)(h.H),{filter:n}=(0,l.useContext)(j.fo),{sortState:r}=(0,l.useContext)(Y.Q),s=(0,l.useRef)(null),[o,i]=(0,l.useState)(e),u=(0,l.useCallback)((async(e,l)=>{const a=await t.getAlbums({offset:e,limit:l,filter:n,sort:(0,S.Aq)(r)});return a.totalLength!==o&&i(a.totalLength),a.items}),[t,n,r,o]),m=(0,l.useCallback)(((e,t)=>a().createElement(V.ZP,{key:e.uri,value:"card",index:t},a().createElement(le.r,{index:t,entity:e}))),[]);return(0,l.useEffect)((()=>{s.current&&s.current.update()}),[r,n,e]),a().createElement(a().Fragment,null,a().createElement("div",{className:f.Z.header},a().createElement(y.Dy,{as:"h1",variant:y.Dy.canon},c.ag.get("albums")),a().createElement(l.Suspense,{fallback:null},a().createElement(L.E,{filterPlaceholder:c.ag.get("collection.filter.albums"),sortOptions:S.Ru}))),a().createElement(F.g,{nrCards:o,renderCard:m,fetchData:u,cardGridApiRef:s}))})),re=a().memo((()=>{const{total:e}=(()=>{const e=(0,l.useContext)(h.H),[t,n]=(0,l.useState)(null),a=(0,l.useCallback)((async()=>{if(!e)return;const t=await(null==e?void 0:e.getAlbums(W));n((null==t?void 0:t.totalLength)||0)}),[e]);return(0,l.useEffect)((()=>{null===t&&a()}),[t,a]),(0,B.b)(Z.EW.UPDATE,a),{total:t}})();return null===e?a().createElement(q.h,{errorMessage:c.ag.get("error.request-collection-albums-failure")}):e?a().createElement(ae,{nrAlbums:e}):a().createElement(p.u,{linkTo:"/search",linkTitle:c.ag.get("collection.empty-page.albums-cta"),message:c.ag.get("collection.empty-page.albums-subtitle"),title:c.ag.get("collection.empty-page.albums-title")},a().createElement(ne.Z,null))})),se=a().memo((()=>a().createElement(Y.$,{uri:"collection/albums",defaultSortOption:P},a().createElement(j.hz,{uri:"collection/albums"},a().createElement(re,null)))));var ce=n(98620),oe=n(94184),ie=n.n(oe);const ue="ASepBXU_s_s3OBsVlwbq",me="W5JUlxsbMsaSi4DGjoPN",de="oT0etGSj2ty3qjhnnd4c",ge="u9YiS9YAKsCSkybiGf4y",fe="emTGVMj1hTjsvPuvTV7d",Ee="vwyZuyz_XfcATIyity1S",pe="lmxbSdxMbxbmYhXnB7C0",be="Wvq907VgY5OISrPgjpbP";var ye=n(47418),he=n(39561);function ve(e,t=null){return Array.from(new Array(e).keys()).map((e=>a().createElement("div",{className:Ee,style:{width:t?`${t}ch`:void 0},key:e})))}const Ce=({entity:e={},onClick:t})=>{const n=(0,he.MY)({limit:7}),{name:l="",uri:r=""}=e;return a().createElement(ye.Z,{className:ie()(ue,me),onClick:t,headerText:l,featureIdentifier:"your_library",uri:r,ariaPlayLabel:c.ag.get("playlist.a11y.play",l),ariaPauseLabel:c.ag.get("playlist.a11y.pause",l),renderCardImage:()=>a().createElement("div",{className:ge},a().createElement("div",{className:fe},n?n.items.map((({uri:e,name:t,artists:[n]},l)=>a().createElement("span",{key:e},a().createElement("span",{className:be},l?" • ":""),a().createElement("span",{dir:"auto"},n.name),a().createElement("span",{dir:"auto",className:be},t)))):ve(3))),renderSubHeaderContent:()=>a().createElement("div",{className:pe},n?`${n.totalLength} ${l}`:ve(1,l.length))})},ke=({entity:e={}})=>{const t=(0,he.j$)({limit:7}),{name:n="",uri:l=""}=e;return a().createElement(ye.Z,{className:ie()(ue,de),headerText:n,featureIdentifier:"your_library",uri:l,ariaPlayLabel:c.ag.get("playlist.a11y.play",n),ariaPauseLabel:c.ag.get("playlist.a11y.pause",n),renderCardImage:()=>a().createElement("div",{className:ge},a().createElement("div",{className:fe},t?t.items.map((({uri:e,name:t,show:n},l)=>a().createElement("span",{key:e},a().createElement("span",{className:be},l?" • ":""),a().createElement("span",{dir:"auto"},t),a().createElement("span",{dir:"auto",className:be},n.name)))):ve(3))),renderSubHeaderContent:()=>a().createElement("div",{className:pe},t?c.ag.get("tracklist-header.episodes-counter",t.totalLength):ve(1,n.length))})};var Oe=n(90464),Se=n(36590),we=n(8498),xe=n(23802);const Ae="wfFs4LpuSSZfVAgUx67H",De="kN4uALHijLKGpORXRMN9",Pe=()=>{const e=(0,xe.g)("images/playlist-folder-filled.svg");return a().createElement("div",{className:Ae},a().createElement("img",{src:e,alt:c.ag.get("local-files"),className:De}))};var Ie=n(13947),Ne=n(66393),Re=n(72131),Te=n(68942),je=n(84242),Le=n(69691),Ye=n(5229);function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const _e=function({entity:e,index:t}){var n;const r=(0,Oe.ui)(),{name:s,uri:o,images:i}=e,u=(0,l.useRef)(null),m=(0,l.useRef)(!0),g=(0,l.useContext)(Ne.t),{isPlaying:f}=(0,Le.cR)(Re.bf),{togglePlay:E}=(0,je.n)({uri:Re.bf,pages:[{items:(null===(n=u.current)||void 0===n?void 0:n.map((e=>Ze(Ze({},e),{},{provider:null}))))||[]}]},{featureIdentifier:"local_files"});(0,l.useEffect)((()=>(m.current=!0,()=>{m.current=!1})),[]);const[p]=(0,Ye.z)(Te.J,!1),b=(0,d.y)((async()=>{if(!u.current){const e=await g.getContents();u.current=e.items}var e;m&&E(void 0,{uri:Re.bf,pages:[{items:(null===(e=u.current)||void 0===e?void 0:e.map((e=>Ze(Ze({},e),{},{provider:null}))))||[]}]})}),Ie.s_);return r.canFetchAllTracks&&p?a().createElement(Se.Z,{index:t,delegatePlayback:!0,delegateLogging:!0,isPlaying:f,onPlay:b,headerText:s,featureIdentifier:"local_files",uri:o,renderCardImage:()=>a().createElement(we.x,{images:i,fallback:{Component:Pe}}),renderSubHeaderContent:()=>a().createElement("span",null,c.ag.get("local-files.description"))}):null},Me=function(e){return a().createElement(l.Suspense,{fallback:null},a().createElement(_e,e))};var He=n(10711),Ge=n(56661),We=n(55508),Ue=n(29255),qe=n(72138),Fe=n(56347),ze=n(63282);function Ve(e){return Boolean(e)}const $e=a().memo((function({nrPlaylists:e,showYourEpisodesCard:t,showLocalFilesCard:n}){const{filter:s}=(0,l.useContext)(j.fo),{sortState:o}=(0,l.useContext)(Y.Q),i=(0,l.useContext)(qe.BS),[u,m]=(0,l.useState)(e),d=(0,l.useRef)(null),g=(0,r.v9)(Ue.Gg).user,E=(0,l.useMemo)((()=>s?[]:[(0,ce.I2)(g),(0,ce.I2)(g),t?(0,ce.bl)(g):null,n?(0,ce.gB)(g):null].filter(Ve)),[s,n,t,g]),p=(0,l.useCallback)((()=>{null!=d&&d.current&&d.current.update()}),[d]);(0,qe.iu)(p);const b=(0,l.useCallback)((async(e,t)=>{const n=E.slice(e),l=await i.getContents({offset:e-(E.length-n.length),limit:t,filter:s,sort:(0,S.pT)(o),flatten:!0,decorateImagesAndOwner:!0});return l.totalItemCount!==u&&m(l.totalItemCount),n.concat(l.items)}),[E,i,s,o,u]),h=(0,l.useCallback)(((e,t,n)=>{if(e.id===ce.G&&1===t)return null;const l=function(e,t,n){return e===ce.G&&n>1?Ce:e===ce.nk?Me:e===ce.Y3?He.T:(0,Ge.U)(t)}(e.id,e.uri,n);return a().createElement(V.ZP,{key:e.uri,value:"card",index:t},a().createElement(l,{entity:e,index:t}))}),[]);return(0,l.useEffect)((()=>{d.current&&d.current.update()}),[o,s,e]),a().createElement(a().Fragment,null,a().createElement("div",{className:f.Z.header},a().createElement(y.Dy,{as:"h1",variant:y.Dy.canon},c.ag.get("playlists")),a().createElement(l.Suspense,{fallback:null},a().createElement(L.E,{filterPlaceholder:c.ag.get("collection.filter.playlists"),sortOptions:S.w0}))),a().createElement(F.g,{nrCards:u+E.length,renderCard:h,fetchData:b,cardGridApiRef:d}))})),Ke=a().memo((()=>{const e=(0,qe.Rt)(),t=(0,Fe.x)(),n=(0,Oe.ui)(),{createPlaylist:r}=(0,ze.K)(),[s]=(0,Ye.z)(Te.J,!1),o=(0,l.useCallback)((()=>{r()}),[r]);return null===e||null===t?a().createElement(q.h,{errorMessage:c.ag.get("error.request-collection-albums-failure")}):null!=e&&e.playlistCount?a().createElement($e,{nrPlaylists:e.playlistCount,showYourEpisodesCard:t.totalLength>0,showLocalFilesCard:n.canFetchAllTracks&&s}):a().createElement(p.u,{linkTitle:c.ag.get("collection.empty-page.playlists-cta"),onClick:o,title:c.ag.get("collection.empty-page.playlists-title"),message:c.ag.get("collection.empty-page.playlists-subtitle")},a().createElement(We.Z,null))})),Qe=a().memo((()=>a().createElement(Y.$,{uri:"collection/playlists",defaultSortOption:R},a().createElement(j.hz,{uri:"collection/playlists"},a().createElement(Ke,null)))));var Xe=n(48064),Je=n(21794),et=n(35808),tt=n(19480);const nt=()=>{const e="ginger-audio-shows-top-20-web",{view:t}=(0,et.P)(e);if(!t)return null;const{content:n,name:l}=t,{total:r=0,items:s}=n;return a().createElement(tt.P,{title:l,total:r,seeAllUri:(0,Je.p)(e)},s.map((e=>{const t=(0,Ge.U)(e.uri);return a().createElement(t,{key:e.uri,entity:e})})))};var lt=n(63926);const at=a().memo((({nrShows:e})=>{const t=(0,l.useContext)(h.H),{filter:n}=(0,l.useContext)(j.fo),{sortState:s}=(0,l.useContext)(Y.Q),o=(0,l.useRef)(!1),i=(0,l.useRef)({entities:[],total:e}),[u,m]=(0,l.useState)(0),{user:d}=(0,r.v9)(Ue.Gg),g=(0,l.useCallback)((async(e,l,a=!1)=>{if(!o.current){o.current=!a;const r=await t.getShows({offset:e,limit:l,filter:n,sort:(0,S.EY)(s)});i.current=H(r,a,i.current),o.current=!1,m((e=>e+1))}}),[t,n,s,i]),E=(0,l.useCallback)((e=>{i.current=G(e,i.current),m((e=>e+1))}),[]);(0,l.useEffect)((()=>{g(0,50,!!u)}),[n,s]);const p=(0,l.useCallback)((()=>{i.current.entities.length!==i.current.total&&g(i.current.entities.length,50)}),[g,i]);return a().createElement($.C,{onReachBottom:p},a().createElement("div",{className:f.Z.header},a().createElement(y.Dy,{as:"h1",variant:y.Dy.canon},c.ag.get("podcasts")),a().createElement(l.Suspense,{fallback:null},a().createElement(L.E,{filterPlaceholder:c.ag.get("collection.filter.podcasts"),sortOptions:S.a6}))),a().createElement(Q.Y,{onCollectionItemRemove:E},a().createElement(V.ZP,{value:"EntitiesGrid"},a().createElement(lt.T,{render:()=>{const e=(0,ce.bl)(d);return(n||!e||0===i.current.entities.length?[]:[a().createElement(l.Suspense,{fallback:null,key:"your-episodes-card"},a().createElement(ke,{entity:e}))]).concat(D(i.current.entities).map(((e,t)=>{const n=(0,Ge.U)(e.uri);return a().createElement(V.ZP,{key:e.uri,value:"card",index:t},a().createElement(n,{entity:e}))})))}}))))})),rt=a().memo((()=>{const{total:e}=U();return null===e?a().createElement(q.h,{errorMessage:c.ag.get("error.request-collection-shows-failure")}):e?a().createElement(at,{nrShows:e}):a().createElement("div",{className:"CollectionShowsContainer"},a().createElement(p.u,{linkTo:"/genre/podcasts-web",linkTitle:c.ag.get("collection.empty-page.shows-cta"),message:c.ag.get("collection.empty-page.shows-subtitle"),title:c.ag.get("collection.empty-page.shows-title")},a().createElement(Xe.Z,null)),a().createElement(nt,null))})),st=a().memo((()=>a().createElement(Y.$,{uri:"collection/podcasts",defaultSortOption:N},a().createElement(j.hz,{uri:"collection/podcasts"},a().createElement(rt,null)))));var ct=n(70369),ot=n(13983),it=n(44503),ut=n(17231),mt=n(50619),dt=n(18261),gt=n(28137);const ft=({entity:{images:e,name:t,uri:n,authorName:l},isHero:r,onClick:s,testId:c,index:o})=>{let i;return i=r?a().createElement(ye.Z,{onClick:s,headerText:t,featureIdentifier:"audiobook",uri:n,isPlayable:!1,renderCardImage:()=>a().createElement(we.x,{isHero:!0,hasRoundedCorners:!0,images:e}),renderSubHeaderContent:()=>a().createElement(a().Fragment,null,a().createElement(y.Dy,{as:"span",variant:y.Dy.mesto},l),a().createElement(mt.k,null,"AUDIOBOOK")),testId:c}):a().createElement(Se.C,{index:o,onClick:s,headerText:t,featureIdentifier:"audiobook",uri:n,isPlayable:!1,renderCardImage:()=>a().createElement(we.x,{hasRoundedCorners:!0,images:e}),renderSubHeaderContent:()=>a().createElement(y.Dy,{as:"div",variant:y.Dy.mesto},l),testId:c}),a().createElement(dt._,{menu:a().createElement(gt.X,{uri:n})},i)},Et=a().memo((({contents:e})=>{const t=(0,l.useRef)(null),n=(0,l.useCallback)((async(t,n)=>e.items.slice(t,n)),[e]),r=(0,l.useCallback)(((e,t)=>a().createElement(V.ZP,{key:e.uri,value:"card",index:t},a().createElement(ft,{entity:e,index:t}))),[]);return(0,l.useEffect)((()=>{t.current&&t.current.update()}),[e]),a().createElement(a().Fragment,null,a().createElement("div",{className:f.Z.header},a().createElement(y.Dy,{as:"h1",variant:y.Dy.canon},"Audiobooks"),a().createElement(L.E,{filterPlaceholder:"Search in Audiobooks",sortOptions:S.ZP})),a().createElement(F.g,{nrCards:e.totalLength,renderCard:r,fetchData:n,cardGridApiRef:t}))})),pt=a().memo((()=>{const{filter:e}=(0,l.useContext)(j.fo),{sortState:t}=(0,l.useContext)(Y.Q),n=(0,l.useMemo)((()=>({filter:e,sort:(0,S.G5)(t)})),[e,t]),r=(0,he.mr)(n);return null===r?a().createElement(q.h,{errorMessage:c.ag.get("error.request-collection-albums-failure")}):(null==r?void 0:r.totalLength)>0||e?a().createElement(Et,{contents:r}):a().createElement(p.u,{linkTo:"/search",linkTitle:"Find audiobooks",message:"Audiobooks you like will appear here",title:"Save audiobooks by tapping the heart icon."},a().createElement(Xe.Z,null))})),bt=a().memo((()=>a().createElement(Y.$,{uri:"collection/albums",defaultSortOption:T},a().createElement(j.hz,{uri:"collection/books"},a().createElement(pt,null)))));var yt=n(73305);const ht=a().lazy((async()=>await n.e(246).then(n.bind(n,30990)))),vt=()=>{const e=(0,r.v9)(o),t=(0,ut.W6)(it.uB);return(0,ot.z)("your_library"),a().createElement("section",{className:"contentSpacing"},a().createElement(ct.$,null,c.ag.get("collection.page-title")),a().createElement(s.N,{path:"/collection/artists",pageId:yt.W.YOURLIBRARY_ARTISTS},a().createElement(te,null)),a().createElement(s.N,{path:"/collection/albums",pageId:yt.W.YOURLIBRARY_ALBUMS},a().createElement(se,null)),a().createElement(s.N,{path:"/collection/playlists",pageId:yt.W.YOURLIBRARY_PLAYLISTS},a().createElement(Qe,null)),e&&a().createElement(s.N,{path:"/collection/podcasts",pageId:yt.W.YOURLIBRARY_SHOWS},a().createElement(st,null)),t&&a().createElement(s.N,{path:"/collection/audiobooks",pageId:yt.W.YOURLIBRARY_AUDIOBOOKS},a().createElement(bt,null)),a().createElement(s.N,{path:"/collection/music-downloads",pageId:yt.W.YOURLIBRARY_DOWNLOADS},a().createElement(ht,null)),a().createElement(E,{isAudiobooksEnabled:t}))},Ct=vt},14590:(e,t,n)=>{n.d(t,{Q:()=>c,$:()=>o});var l=n(67294),a=n.n(l),r=n(22583),s=n(5292);const c=(0,l.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a LibrarySortProvider")},sortState:s.oT.ADDED_AT}),o=a().memo((function({uri:e,children:t,defaultSortOption:n}){return a().createElement(r.r,{uri:e,defaultState:n,sortContext:c},t)}))},88852:(e,t,n)=>{n.d(t,{E:()=>d});var l=n(67294),a=n.n(l),r=n(45342);const s="QhF9ZR7YOiJeFiEnfkOr";var c=n(61048),o=n(95289),i=n(5292),u=n(14590);const m=a().memo((({sortOptions:e})=>{const{sortState:t,setSortState:n}=(0,l.useContext)(u.Q),r=(0,l.useCallback)((e=>{n(i.ei[e])}),[n]),s=e.map((e=>i.MY[e])),c=i.MY[t];return a().createElement(o.A,{options:s,onSelect:r,selected:c})})),d=a().memo((({filterPlaceholder:e,sortOptions:t})=>{const n=(0,l.useContext)(r.H);return a().createElement("div",{className:s},null!=n&&n.getCapabilities().canFilter?a().createElement(l.Suspense,{fallback:null},a().createElement(c.K,{placeholder:e})):null,null!=n&&n.getCapabilities().canSort?a().createElement(m,{sortOptions:t}):null)}))},28137:(e,t,n)=>{n.d(t,{X:()=>u});var l=n(67294),a=n.n(l),r=n(20657),s=n(30005),c=n(57612),o=n(42922),i=n(21366);const u=a().memo((({uri:e,sharingInfo:t})=>a().createElement(o.ZP,{value:"show"},a().createElement(s.v,null,a().createElement(c.xM,{uri:e}),a().createElement(i.q,null,a().createElement(c.Jx,{uri:e,sharingInfo:t,displayText:r.ag.get("context-menu.copy-show-link")}),a().createElement(c.W2,{uri:e})),a().createElement(c.h$,{divider:"before",uri:e})))))},70369:(e,t,n)=>{n.d(t,{$:()=>l.$});var l=n(22578)},9746:(e,t,n)=>{n.d(t,{n:()=>x});var l=n(67294),a=n.n(l),r=n(94184),s=n.n(r),c=n(43031),o=n(20657);const i="BkpKedcdaMGbvgXMlmcg",u="muYk5XIwKmqR9iNibk_f",m="queue-tabBar-header",d="m20ShRDiGGDpJ5LSABTi",g="Hvv0e7WKQ4kyftgSQJhg",f="yxf_6IsQEmHjijEBUMTP",E="oaNVBli46GtVjaQKB15g",p="JdlKTdpMquftpMwwegZo",b="Nts_ArOCGeROTDZND3M6",y="FvDsfgxSvLvL3q8d7nQv";var h=n(76343),v=n(32626),C=n(30005),k=n(21691);const O=({items:e,activeItemId:t,setActiveDropdownItem:n})=>a().createElement(C.v,null,e.map((e=>a().createElement(k.s,{role:"menuitemradio",to:e.to,exact:!0,"aria-checked":e.itemId===t,className:f,activeClassName:E,isActive:t=>!!t&&(n(e),!0),onClick:()=>{n(e)}},e.title))));var S=n(26115),w=n(74594);const x=a().memo((({isCentered:e,links:t,landmarkLabel:n,className:r,windowSize:f=1/0})=>{const[C,k]=(0,l.useState)(null),x=(0,l.useRef)(null),[A,D]=(0,l.useState)([]),[P,I]=(0,l.useState)(0),[N,R]=(0,l.useState)([]);(0,l.useEffect)((()=>{x.current&&I(x.current.clientWidth)}),[f]),(0,l.useEffect)((()=>{if(!x.current)return;const e=Array.from(x.current.children).map((e=>e.clientWidth));D(e)}),[t]),(0,l.useEffect)((()=>{if(!x.current)return;if(A.slice(0,-1).reduce(((e,t)=>e+t),0)<=P)return void R([]);const e=A.reduce(((e,t)=>e>t?e:t),0),t=[];let n=e;A.forEach(((e,l)=>{P>=n+e?n+=e:t.push(l)})),R(t)}),[P,A]);const T=(0,l.useCallback)((e=>!!e&&(k(null),!0)),[]);return a().createElement("nav",{className:s()(r,i),"aria-label":n},a().createElement("ul",{className:e?u:b,ref:x},t.filter(((e,t)=>!N.includes(t))).map((e=>a().createElement("li",{key:e.to,className:m},a().createElement(c.O,{exact:!0,className:p,activeClassName:E,to:e.to,isActive:T},a().createElement(h.Dy,{variant:h.Dy.mestoBold},e.title))))),N.length||0===A.length?a().createElement("li",{className:m},a().createElement(v.xV,{renderInline:!0,menu:a().createElement(O,{items:t.filter(((e,t)=>N.includes(t))),activeItemId:null==C?void 0:C.itemId,setActiveDropdownItem:k})},((e,t,n)=>a().createElement("button",{className:s()(d,{[g]:C}),type:"button",onClick:t,ref:n},a().createElement(h.Dy,{as:"span",variant:h.Dy.mestoBold},C?C.title:o.ag.get("more")),e?a().createElement(S.q,{iconSize:16,className:y}):a().createElement(w.m,{iconSize:16,className:y}))))):null))}))},33241:(e,t,n)=>{n.d(t,{C:()=>u});var l=n(67294),a=n.n(l),r=n(70131),s=n(94184),c=n.n(s);const o="eqw9lvuoZHrkWMTdyTpY",i="lb08f71wES9AQnKx6e0R",u=a().memo((e=>{const{triggerOnInitialLoad:t=!1,onReachBottom:n,showScrollbar:s=!0,horizontalScroll:u=!1}=e,{ref:m,inView:d}=(0,r.YD)({initialInView:t});return(0,l.useEffect)((()=>{d&&n&&n()}),[d,n]),a().createElement("div",{className:c()({[i]:!s,[o]:u}),"data-testid":"infinite-scroll-list"},e.children,a().createElement("div",{ref:m}))}))},35808:(e,t,n)=>{n.d(t,{P:()=>o});var l=n(94321),a=n(29255),r=n(67294),s=n(65858),c=n(43088);const o=e=>{const t=(0,c.n)(),[n,o]=(0,r.useState)((()=>t.getViewFromCache(e))),i=(0,s.v9)(l.r),{locale:u,overrides:m}=(0,s.v9)(a.Gg),d=(null==m?void 0:m.country)||i,g=(null==m?void 0:m.locale)||u;(0,r.useEffect)((()=>{t.getView(e,{country:d,locale:g}).then((e=>{o(e)}))}),[d,g,e,t]);return{view:n,getNextPage:(0,r.useCallback)((()=>{t.getMore(e).then((e=>{e&&o(e)}))}),[e,t]),refreshContents:(0,r.useCallback)((()=>{t.getView(e,{country:d,locale:g,ignoreCache:!0}).then((e=>{o(e)}))}),[d,g,e,t])}}},55084:(e,t,n)=>{n.d(t,{Z:()=>l});const l={header:"Kqd6YgAEH_L9D3UK44p0",tabBar:"yPDOWTfndoixSqsbq6Re",AddToPlaylistIcon:"k84l_utp2OugbjNwAneO"}}}]);
//# sourceMappingURL=xpui-routes-collection.js.map