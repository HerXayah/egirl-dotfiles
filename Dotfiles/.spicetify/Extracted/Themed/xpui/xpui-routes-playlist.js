"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[878],{90110:(e,t,a)=>{a.d(t,{q:()=>R,o:()=>w});var n=a(67294),i=a.n(n),l=a(69518),r=a.n(l),s=a(50020),o=a(96895),c=a(24656),d=a(69010),m=a(94184),u=a.n(m);const k="l_MW0G9qeeCKlVJwBykT",p="BKsbV2Xl786X9a09XROH",v="HbKLiGoYM4dpuK8L4TMX",y="_APVWqivXc4YqgsnpFkP",g="VmwiDoU6RpqyzK_n7XRO",S="rEx3EYgBzS8SoY7dmC6x",b="z3zia5snl987x676qe5w";var E=a(6116),N=a(20657),f=a(40080),h=a(38209);var C=a(80946),T=a(83692);let R;!function(e){e[e.sm=24]="sm",e[e.md=32]="md"}(R||(R={}));const F=e=>{const{currentTarget:t,detail:a}=e;a>0&&t&&t.blur()},w=({uri:e,isFollowing:t,onFollow:a,size:l=R.sm,className:m,onClick:w=(()=>{})})=>{const D={"--size":`${l}px`},{useDownloading:I,useDownloadCapability:A}=(0,n.useContext)(c.I),[L,x]=(0,n.useState)(!1),[O,P]=A(r().isEpisode(e)),[U,_]=(0,n.useState)(!1),{currentAvailability:B,progress:M,beginDownload:V,clearDownload:j}=I(e);((e,t)=>{const a=(0,h.r)(),i=(0,n.useRef)(!1);(0,n.useEffect)((()=>{e===d.V8.DOWNLOADING&&!1===i.current&&(i.current=!0,a.say(N.ag.get("download.downloading",t.totalItems)))}),[a,e,t]);const l=(0,f.D)(e);(0,n.useEffect)((()=>{l===d.V8.DOWNLOADING&&e===d.V8.YES&&(i.current=!1,a.say(N.ag.get("download.complete")))}),[a,l,e])})(B,M);const Q=(0,n.useCallback)((e=>{P===d.v$.DOWNLOADING_NOT_ALLOWED?_(!0):!1===t?(a(),x(!0)):V(),w(e),F(e)}),[V,P,t,w,a]),Z=(0,n.useCallback)((e=>{j(),F(e),w(e)}),[j,w]);return(0,n.useEffect)((()=>{!0===L&&!0===t&&(V(),x(!1))}),[t,L,V]),O===d.PQ.NO_DOWNLOAD_CAPABILITY?null:P===d.v$.DOWNLOADING_NOT_ALLOWED?i().createElement("div",{className:p},i().createElement(T.w,{label:N.ag.get("download.download")},i().createElement("button",{className:u()(v,m),role:"switch",onClick:Q,"aria-label":N.ag.get("download.download"),"aria-checked":!1},i().createElement(s.a,{iconSize:l}))),U&&i().createElement("div",{className:b},i().createElement(C.E,{withTopLeftPointer:!0,horizontal:!0,onClose:()=>{_(!1)}},N.ag.get("download.upsell")))):B===d.V8.YES?i().createElement(T.w,{label:N.ag.get("download.remove")},i().createElement("button",{className:u()(v,m,y),role:"switch",onClick:Z,"aria-label":N.ag.get("download.remove"),"aria-checked":!0},i().createElement(o.C,{iconSize:l}))):B===d.V8.NO?i().createElement(T.w,{label:N.ag.get("download.download")},i().createElement("button",{className:u()(v,m),role:"switch",onClick:Q,"aria-label":N.ag.get("download.download"),"aria-checked":!1},i().createElement(s.a,{iconSize:l}))):i().createElement("div",{className:u()(g,m),role:"switch","aria-checked":!0},i().createElement(T.w,{label:N.ag.get("download.cancel")},i().createElement("button",{style:D,className:u()(v,k,m),onClick:Z,"aria-label":N.ag.get("download.cancel")})),i().createElement("span",{style:D,className:u()(S,k)},i().createElement(E.e,{"aria-valuetext":N.ag.get("progress.downloading-tracks"),percentage:M.percentage,size:l})))}},70369:(e,t,a)=>{a.d(t,{$:()=>n.$});var n=a(22578)},37338:(e,t,a)=>{a.d(t,{T:()=>u});var n=a(67294),i=a.n(n),l=a(25678),r=a(42273),s=a(33732),o=a(22023),c=a(15212);const d="Ws8Ec3GREpT5PAUesr9b",m="kHu_FTRgoBLSLeAJtyKY",u=function({onClick:e,name:t,images:a,canEdit:n,placeholderType:u,shape:k=r.Kc.SQUARE,dragUri:p=""}){const[v,y]=(0,s.RH)(a),g=(0,l.VO)(v,y)===l.KO.loaded,S=(0,c.O1)([p],t);return i().createElement("div",{className:d,"data-testid":`${u}-image`,draggable:!!p,onDragStart:S},i().createElement(r.Oe,{loading:"eager",name:t,images:a,placeholderType:u,shape:k}),n&&i().createElement("div",{className:m},i().createElement(o.F,{overlay:g,onClick:e,rounded:k===r.Kc.CIRCLE})))}},47904:(e,t,a)=>{a.r(t),a.d(t,{Playlist:()=>Pt,default:()=>Ut});var n=a(44503),i=a(69518),l=a.n(i),r=a(67294),s=a.n(r),o=a(65858),c=a(61202),d=a(30947),m=a(11414),u=a(55911),k=a(20657),p=a(4383),v=a(72138),y=a(97194),g=a(83056),S=a(76343);const b=(e,t,a)=>({event:e,app_startup_id:null,ad_playback_id:null,ad_id:String(t),lineitem_id:String(a),creative_id:String(t),ad_format:"sponsored playlist",slot:null,in_focus:null,username:null,jsondata:JSON.stringify({platform:"WebPlayer",revision:"1.0.0"})}),E=({clickTracking:e,clickThrough:t,thirdPartyImpression:a,impression:n,logoUrl:i,advertiserName:l,creativeId:c,lineItemId:d})=>{const m=(0,o.I0)(),[u,p]=(0,r.useState)(!1);return(0,r.useEffect)((()=>(m((0,g.Vw)()),m((0,g.kh)(b("event_viewed",c,d))),()=>{m((0,g.AG)())})),[m,c,d]),s().createElement("div",{className:"sponsor-container"},s().createElement(S.Dy,{as:"span",variant:S.Dy.minuet,className:"sponsor-text","data-ta-id":"sponsor-text"},k.ag.get("playlist.presented_by",l)),s().createElement("div",{className:"sponsor-logo"},s().createElement("a",{draggable:!1,className:"sponsor-logo__link",target:"_blank",href:t,onClick:()=>{m((0,g.kh)(b("event_clicked",c,d))),p(!0)}},s().createElement("img",{draggable:!1,className:"sponsor-logo__image",src:i,alt:l,"data-ta-id":"sponsor-logo"})),s().createElement("img",{className:"sponsor-logo__imp-pixel",src:n,alt:""}),a&&s().createElement("img",{className:"sponsor-logo__3p-imp-pixel",src:a,alt:""}),u&&s().createElement("img",{className:"sponsor-logo__click-img-pixel",src:e,alt:""})))},N=({playlistUri:e})=>{const t=(0,o.I0)(),a=(0,o.v9)((t=>t.ads.sponsoredPlaylist.previewAd||t.ads.sponsoredPlaylist.sponsoredPlaylist.get(e)));return(0,r.useEffect)((()=>{a||t((0,g.fd)(e))}),[t,e,a]),a?s().createElement("div",null,s().createElement(E,a)):null},f=({playlistUri:e})=>{const t=(0,o.I0)(),a=(0,o.v9)((e=>e.ads.sponsoredPlaylist.sponsoredPlaylist.get("allSponsorships"))),n=(0,o.v9)((e=>e.ads.sponsoredPlaylist.previewAd));(0,r.useEffect)((()=>{a||t((0,g.z8)())}),[t,a]);const i=n||a&&((e,t)=>{const a=Date.now()/1e3,n=e.split(":"),i=n[n.length-1];return t.some((({playlistId:e,endTime:t,startTime:n})=>e===i&&a>=n&&a<(t||a+1)))})(e,a);return i?s().createElement(N,{playlistUri:e}):null};var h=a(56802),C=a(4236),T=a(1169),R=a(36132),F=a(29255),w=a(90110),D=a(19565),I=a(61048),A=a(84200),L=a(1663),x=a(18061),O=a(55120),P=a(22423),U=a(78462),_=a(28248),B=a(42922),M=a(49961),V=a(28018);const j=new Set(U.RJ),Q=new Set([]),Z={column:null,order:_.kn.NONE},K=s().memo((({ariaLabel:e,nrTracks:t,playlistUri:a,rankType:n,scrollToUid:i,usePlayContextItem:l,tracklistDomRef:o})=>{const c=(0,r.useContext)(v.ZF),{filter:d,setFilter:m}=(0,r.useContext)(P.fo),u=(0,r.useRef)(null),[k,p]=(0,r.useState)(t),y=(0,r.useCallback)((()=>{u.current&&u.current.update()}),[]);(0,V.r)(a,y);const{sortState:g,setSortState:S}=(0,r.useContext)(U.Gb),b=(0,r.useCallback)((e=>{S((0,R.VK)(e,g))}),[g,S]);(0,r.useEffect)((()=>{u.current&&u.current.update()}),[g,d]),(0,r.useEffect)((()=>{S(Z),m("")}),[a,m,S]),(0,r.useEffect)((()=>{u.current&&i&&u.current.scrollToItem({uid:i})}),[i]),(0,r.useEffect)((()=>{u.current&&""===d&&u.current.scrollToFirstSelected()}),[d,k]);const E=(0,r.useCallback)((async(e,t)=>{const n=await c.getContents(a,{offset:e,limit:t,sort:(0,R._j)(g),filter:d,decorateFormatListData:!0});return n.totalLength!==k&&p(n.totalLength),n.items}),[a,c,k,g,d]),N="plays"===n,f=(0,r.useCallback)(((e,t)=>{var n,i,r;const o=(0,M.X)(null===(n=e.album)||void 0===n?void 0:n.images,{desiredSize:40,desiredLabel:"small"});return s().createElement(_.h_,{key:t+e.uri,index:t,contextUri:a,uri:e.uri,uid:e.uid||void 0,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,album:e.album,isExplicit:e.isExplicit,isMOGEFRestricted:e.is19PlusOnly,type:e.type,imgUrl:(null==o?void 0:o.url)||"",statusChange:null===(i=e.formatListAttributes)||void 0===i?void 0:i.status,showPlayCount:N,playCount:parseInt((null===(r=e.formatListAttributes)||void 0===r?void 0:r.rank)||"0",10),usePlayContextItem:l})}),[a,N,l]),h=(0,r.useMemo)((()=>N?[_.QD.INDEX,_.QD.TITLE,_.QD.PLAYS,_.QD.ALBUM,_.QD.DURATION]:[_.QD.INDEX,_.QD.TITLE,_.QD.ALBUM,_.QD.DURATION]),[N]),C=(0,r.useCallback)((e=>e.uri),[]),T=(0,r.useCallback)((e=>e.id),[]);return s().createElement(B.ZP,{value:"chart-tracklist"},s().createElement(_.Pv,{key:a,ariaLabel:e,hasHeaderRow:!0,columns:h,sortableColumns:c.getCapabilities().canSort?j:Q,sortState:g,onSort:b,renderRow:f,resolveUri:C,resolveUid:T,nrTracks:k,fetchTracks:E,limit:100,canFetchAllTracks:c.getCapabilities().canFetchAllTracks,outerRef:u,outerDomRef:o}))}));var z=a(2751),G=a(94184),W=a.n(G),q=a(86912),X=a(47130),H=a(79202),J=a(17231),$=a(64005),Y=a(78034);const ee={filterInputContainer:"scu52wCcmMwOKyeaKQQl",filterInput:"amTaUy6eMlbKh0wzrOnb",overlay:"qbOLHzBszqCGWkyrK_ga",searchIconContainer:"tQYCHXfrpZchZQUj1SB3",searchIcon:"At01nHT_5bSZWtf053vQ",clearButton:"YVhFT5kSA0aTMbgmACwa"},te=s().memo((({placeholder:e,onChange:t=(()=>{}),onFocus:a=(()=>{})})=>{const i=(0,J.W6)(n.DW),[l,o]=(0,r.useState)(""),c=(0,r.useRef)(null),d=(0,$.y)((e=>{t(e)}),200),m=(0,r.useCallback)((e=>{const t=e.currentTarget.value;o(t),d(t)}),[o,d]),u=(0,r.useCallback)((()=>{c.current&&c.current.focus(),o(""),t("")}),[o,t]),p=(0,r.useCallback)((e=>{"Escape"===e.key&&l&&u()}),[l,u]),v=i?q.z:X.h;return s().createElement("div",{className:ee.filterInputContainer,role:"search"},s().createElement("input",{ref:c,className:W()(ee.filterInput,Y.Z.mesto),role:"searchbox",maxLength:80,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,placeholder:e,onChange:m,onKeyDown:p,onFocus:a,value:l}),s().createElement("div",{className:ee.overlay},s().createElement("span",{className:ee.searchIconContainer},s().createElement(v,{iconSize:16,className:ee.searchIcon,"aria-hidden":"true"})),l&&s().createElement("button",{className:ee.clearButton,onClick:u,"aria-label":k.ag.get("search.a11y.clear-input")},s().createElement(H.j,{iconSize:16,className:ee.filterInputIcon}))))}));var ae=a(29547),ne=a(34031),ie=a(59713),le=a.n(ie);function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(Object(a),!0).forEach((function(t){le()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}let oe;!function(e){e[e.SEARCH=0]="SEARCH",e[e.ALBUM=1]="ALBUM",e[e.ARTIST=2]="ARTIST",e[e.PODCAST=3]="PODCAST",e[e.PLAYLIST=4]="PLAYLIST",e[e.ALBUMRESULTS=5]="ALBUMRESULTS",e[e.ARTISTRESULTS=6]="ARTISTRESULTS",e[e.PODCASTRESULTS=7]="PODCASTRESULTS",e[e.EPISODERESULTS=8]="EPISODERESULTS",e[e.TRACKRESULTS=9]="TRACKRESULTS"}(oe||(oe={}));const ce=(e,t)=>"GO_BACK"===t.type?1===e.breadcrumbs.length?e:e=se(se({},e),{},{breadcrumbs:e.breadcrumbs.slice(0,e.breadcrumbs.length-1)}):"NAV_TO_ENTITY"===t.type?e=se(se({},e),{},{breadcrumbs:[...e.breadcrumbs,t.level]}):("NAV_TO_RESULTS"===t.type?e=se(se({},e),{},{breadcrumbs:[...e.breadcrumbs,t.level]}):"CHANGE_TERM"===t.type&&(e={term:t.term,breadcrumbs:[{navType:oe.SEARCH,term:t.term,title:""}]}),e);a(98984);const de={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"querySearch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"term"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"term"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"episode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}}]}}]}}]},me={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"querySearchAlbum"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}}]}}]}}]},ue={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"querySearchArtist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artist"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"following"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"popularReleases"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topTracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]};var ke=a(91802);const pe={artistIcon:"CObqC4tKIxndgOfVt0qO",artistImagePlaceholder:"B0R7SaPqNInmy05nthoD",podcastIcon:"dbo3BN_cc87RHKV_ZMuu",albumIcon:"Jlc5PS2fJiUWY0wUSUvg",searchResultTitle:"fKkKrFjxSMU606ACBqLI",searchResultContainer:"jtZMR8Hj94od6BQce98P",rowContent:"lpBFb0X6x8nHjG7PKVsB",searchResultTitleContainer:"t_UwLSijpLSE4QBPX2n_",seeMoreButton:"mkczfE2FHWc6jIT4m1N9",seeMoreRowButton:"DHlWJVgQyjwF8ApxcZxE"};var ve=a(7739),ye=a(73012);const ge=({searchResult:e,index:t,isRTL:a,onClick:n})=>{var i;const l=null===(i=e.coverArt)||void 0===i?void 0:i.sources[0].url;return s().createElement(ve.RX,{className:pe.searchResultContainer,rowIndex:t,"aria-selected":!1},s().createElement("div",{"aria-label":`${k.ag.get("artist-page.tracks.seemore")} ${e.name}`,className:pe.seeMoreRowButton,onClick:n},s().createElement(ve.id,{columnIndex:0,className:pe.rowContent},void 0!==l?s().createElement("img",{className:pe.albumIcon,src:e.coverArt.sources[0].url,alt:e.name}):null,s().createElement("div",{className:pe.searchResultTitleContainer},s().createElement(S.Dy.p,{className:pe.searchResultTitle,variant:S.$e.ballad},e.name),s().createElement(S.Dy.p,{variant:S.Dy.mesto,color:ye.nh1},k.ag.get("album")))),s().createElement(ve.id,{columnIndex:1}),s().createElement(ve.id,{columnIndex:2},s().createElement("button",{"data-testid":"top-bar-forward-button","aria-label":`See more from ${e.name}`,className:pe.seeMoreButton,onClick:n},a?s().createElement(ne.e,{className:pe.icon}):s().createElement(ae.V,{className:pe.icon})))))};var Se=a(68156);const be=({size:e})=>s().createElement("div",{className:pe.artistImagePlaceholder},s().createElement(Se.i,{iconSize:e})),Ee=({searchResult:e,index:t,isRTL:a,onClick:n})=>{var i;const l=null===(i=e.visuals.avatarImage)||void 0===i?void 0:i.sources[0].url;return s().createElement(ve.RX,{className:pe.searchResultContainer,rowIndex:t,"aria-selected":!1},s().createElement("div",{"aria-label":`${k.ag.get("artist-page.tracks.seemore")} ${e.profile.name}`,className:pe.seeMoreRowButton,onClick:n,"data-testid":"playlist-inline-curation-artist"},s().createElement(ve.id,{columnIndex:0,className:pe.rowContent},void 0!==l?s().createElement("img",{className:pe.artistIcon,src:l,alt:e.profile.name}):s().createElement(be,{size:16}),s().createElement("div",{className:pe.searchResultTitleContainer},s().createElement(S.Dy.p,{className:pe.searchResultTitle,variant:S.$e.ballad},e.profile.name),s().createElement(S.Dy.p,{variant:S.Dy.mesto,color:ye.nh1},k.ag.get("artist")))),s().createElement(ve.id,{columnIndex:1}),s().createElement(ve.id,{columnIndex:2},s().createElement("button",{"data-testid":"top-bar-forward-button","aria-label":`See more from ${e.profile.name}`,className:pe.seeMoreButton,onClick:n},a?s().createElement(ne.e,{className:pe.icon}):s().createElement(ae.V,{className:pe.icon})))))},Ne=({episode:{uid:e,uri:t,name:a,imgUrl:n,podcast:i,isPlayable:l,isMOGEFRestricted:r,isExplicit:o},contextUri:c,index:d,usePlayContextItem:m})=>s().createElement(_.YK,{uid:e,uri:t,isPlayable:l,isMOGEFRestricted:r,isExplicit:o,contextUri:c,name:a,imgUrl:n,index:d,podcast:i,usePlayContextItem:m}),fe=({label:e,index:t,isRTL:a,onClick:n})=>s().createElement(ve.RX,{className:pe.searchResultContainer,rowIndex:t,"aria-selected":!1},s().createElement("div",{"aria-label":e,className:pe.seeMoreRowButton,onClick:n},s().createElement(ve.id,{columnIndex:0,className:pe.rowContent},s().createElement(S.Dy.p,{className:pe.searchResultTitle,variant:S.$e.ballad},e)),s().createElement(ve.id,{columnIndex:1}),s().createElement(ve.id,{columnIndex:2},s().createElement("button",{"data-testid":"top-bar-forward-button","aria-label":e,className:pe.seeMoreButton,onClick:n},a?s().createElement(ne.e,{className:pe.icon}):s().createElement(ae.V,{className:pe.icon}))))),he=({track:{uid:e,uri:t,album:a,name:n,artists:i,isPlayable:l,isExplicit:r,isMOGEFRestricted:o},contextUri:c,index:d,usePlayContextItem:m})=>s().createElement(_.cp,{uid:e,uri:t,isPlayable:l,isMOGEFRestricted:o,isExplicit:r,contextUri:c,name:n,imgUrl:a.imgUrl,index:d,album:a,artists:i,usePlayContextItem:m}),Ce=({renderRow:e,searchResults:t})=>s().createElement(_.Pv,{ariaLabel:k.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:_.hU,nrTracks:t.length,tracks:t,resolveUri:e=>e.uri,columns:[_.QD.TITLE,_.QD.ALBUM,_.QD.ADD],testID:"playlist-inline-curation-loaded-results"}),Te=({renderRow:e,searchResults:t})=>s().createElement(_.Pv,{ariaLabel:k.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:_.hU,nrTracks:t.length,tracks:t,resolveUri:e=>e.uri,columns:[_.QD.TITLE,_.QD.ALBUM,_.QD.ADD]}),Re=({renderRow:e,searchResults:t})=>{const a=t.filter((e=>void 0!==e.album)),n=t.filter((e=>e.uri.includes("album")));return s().createElement("div",null,s().createElement(S.Dy.p,{variant:S.Dy.cello,className:z.Z.artistResultListTitle},k.ag.get("playlist.curation.popular_songs")),s().createElement(_.Pv,{ariaLabel:k.ag.get("playlist.curation.popular_songs"),renderRow:e,rowPlaceholder:_.hU,nrTracks:a.length,tracks:a,resolveUri:e=>e.uri,columns:[_.QD.TITLE,_.QD.ALBUM,_.QD.ADD]}),s().createElement(S.Dy.p,{variant:S.Dy.cello,className:z.Z.artistResultListTitle},k.ag.get("playlist.curation.albums")),s().createElement(_.Pv,{ariaLabel:k.ag.get("playlist.curation.albums"),renderRow:e,rowPlaceholder:_.hU,nrTracks:n.length,tracks:n,resolveUri:e=>e.uri,columns:[_.QD.TITLE,_.QD.ALBUM,_.QD.ADD]}))},Fe=({renderRow:e,searchResults:t})=>s().createElement(_.Pv,{ariaLabel:k.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:_.hU,nrTracks:t.length,tracks:t,resolveUri:e=>e.uri,columns:[_.QD.TITLE,_.QD.ALBUM,_.QD.ADD]}),we=({renderRow:e,searchResults:t})=>s().createElement(_.Pv,{ariaLabel:k.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:_.hU,nrTracks:t.length,tracks:t,resolveUri:e=>e.uri,columns:[_.QD.TITLE,_.QD.ALBUM,_.QD.ADD]}),De=({renderRow:e,searchResults:t})=>s().createElement(_.Pv,{ariaLabel:k.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:_.hU,nrTracks:t.length,tracks:t,resolveUri:e=>e.uri,columns:[_.QD.TITLE,_.QD.ALBUM,_.QD.ADD]});var Ie=a(84242),Ae=a(7073),Le=a(42781);function xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(a),!0).forEach((function(t){le()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Pe=e=>{var t;return{uid:e.uid,uri:e.track.uri,name:e.track.name,isPlayable:e.track.playability.playable,isMOGEFRestricted:e.track.contentRating.label===Ae.KS.NineteenPlus,isExplicit:e.track.contentRating.label===Ae.KS.Explicit,album:{id:e.track.album.id,name:e.track.album.name,imgUrl:(null===(t=e.track.album.coverArt)||void 0===t?void 0:t.sources[0].url)||"",uri:e.track.album.uri},artists:e.track.artists.items.map((e=>({id:e.id,uri:e.uri,name:e.profile.name})))}},Ue=e=>({uid:e.uid,uri:e.episode.uri,name:e.episode.name,isPlayable:e.episode.playability.playable,isMOGEFRestricted:e.episode.contentRating.label===Ae.KS.NineteenPlus,isExplicit:e.episode.contentRating.label===Ae.KS.Explicit,imgUrl:e.episode.coverArt.sources[0].url,podcast:{id:e.episode.podcast.id,uri:e.episode.podcast.uri,name:e.episode.podcast.name}}),_e=({resultList:e,level:t,isRTL:a,playlistUri:n,navToResults:i,navToEntity:o,term:c})=>{var d;let m=e;const u=(e=>e.filter((({uri:e})=>l().isTrack(e)||l().isEpisode(e))).map((({uri:e,uid:t})=>({type:l().isTrack(e)?Le.p.TRACK:Le.p.EPISODE,uri:e,uid:t,provider:null}))))(e),{usePlayContextItem:p}=(0,Ie.n)({uri:`${n.replace("spotify:","spotify:internal:recs:")}:${encodeURIComponent(c)}:${null!==(d=null==t?void 0:t.navType)&&void 0!==d?d:0}`,pages:[{items:u}]},{featureIdentifier:"search"}),v=(0,r.useCallback)(((e,t)=>e?void 0!==e.profile?s().createElement(Ee,{isRTL:a,index:t,key:e.uri,searchResult:e,onClick:()=>{o({navType:oe.ARTIST,uri:e.uri,title:e.profile.name})}}):void 0!==e.podcast?s().createElement(Ne,{key:e.uri,index:t,episode:e,contextUri:n.replace("spotify:","spotify:internal:recs:"),usePlayContextItem:p}):void 0!==e.album?s().createElement(he,{key:e.uri,index:t,track:e,contextUri:n.replace("spotify:","spotify:internal:recs:"),usePlayContextItem:p}):e.isSeeAllXRow?s().createElement(fe,{isRTL:a,index:t,label:e.label,key:e.uri,onClick:()=>{i({navType:e.type,term:c,title:e.label})}}):e.uri.includes("album")?s().createElement(ge,{index:t,key:e.uri,isRTL:a,searchResult:e,onClick:()=>{o({navType:oe.ALBUM,uri:e.uri,title:e.name})}}):null:null),[a,o,i,n,c,p]);if(""===c)return s().createElement("div",{className:z.Z.emptySearchTermContainer});if(!e||0===(null==e?void 0:e.length))return s().createElement("div",{className:z.Z.emptyStateContainer},s().createElement(S.Dy.h1,{variant:S.Dy.canon},k.ag.get("search.empty-results-title",c)),s().createElement(S.Dy.p,{variant:S.Dy.mesto},k.ag.get("search.empty-results-text")));if((null==t?void 0:t.navType)===oe.SEARCH){const t=[{type:oe.ARTISTRESULTS,label:k.ag.get("playlist.curation.see_all_artists"),isSeeAllXRow:!0,uri:"spotify:internal:recs:see-all-artists"},{type:oe.ALBUMRESULTS,label:k.ag.get("playlist.curation.see_all_album"),isSeeAllXRow:!0,uri:"spotify:internal:recs:see-all-albums"},{type:oe.TRACKRESULTS,label:k.ag.get("playlist.curation.see_all_songs"),isSeeAllXRow:!0,uri:"spotify:internal:recs:see-all-songs"}];return m=[...e,...t],s().createElement(Ce,{renderRow:v,searchResults:m})}return(null==t?void 0:t.navType)===oe.ALBUM?s().createElement(Te,{renderRow:v,searchResults:m}):(null==t?void 0:t.navType)===oe.ARTIST?s().createElement(Re,{renderRow:v,searchResults:m}):(null==t?void 0:t.navType)===oe.ALBUMRESULTS?s().createElement(Fe,{renderRow:v,searchResults:m}):(null==t?void 0:t.navType)===oe.TRACKRESULTS?s().createElement(we,{renderRow:v,searchResults:m}):(null==t?void 0:t.navType)===oe.ARTISTRESULTS?s().createElement(De,{renderRow:v,searchResults:m}):null},Be=({playlistUri:e,onCurationModeChange:t})=>{const[a,n]=(0,r.useState)([]),[i,c]=(0,r.useState)(),d=(0,o.v9)((e=>e.ui.textDirection.isRTL)),{level:m,changeTerm:u,goBack:p,navToEntity:v,navToResults:y,term:g}=(()=>{const[e,t]=(0,r.useReducer)(ce,{term:"",breadcrumbs:[]}),{breadcrumbs:a,term:n}=e;return{changeTerm:e=>{t({type:"CHANGE_TERM",term:e})},level:a[a.length-1]||null,goBack:()=>{t({type:"GO_BACK"})},navToEntity:e=>{t({type:"NAV_TO_ENTITY",level:e})},navToResults:e=>{t({type:"NAV_TO_RESULTS",level:e})},term:n}})(),{request:b}=(0,r.useContext)(ke.Ax),E=(0,r.useCallback)((async e=>{const t=await b(de,{term:e});return(null==t?void 0:t.data.search)||null}),[b]),N=(0,r.useCallback)((async e=>{const t=await b(me,{uri:e,offset:0,limit:100});return(null==t?void 0:t.data.album)||null}),[b]),f=(0,r.useCallback)((async e=>{const t=await b(ue,{uri:e,offset:0,limit:100});return(null==t?void 0:t.data.artist)||null}),[b]);return(0,r.useEffect)((()=>{let e=!0;return(async()=>{var t,a,r;if(m)switch(m.navType){case oe.SEARCH:try{if(!i||i.query!==g&&""!==g){const t=await E(g);e&&c(t)}else""===g&&n([])}catch{n([])}if(i){const e=(e=>{var t,a;const n=null!==(t=null==e||null===(a=e.topResults)||void 0===a?void 0:a.items)&&void 0!==t?t:[];return n.length?n.reduce(((t,a)=>{const n=a.uri,i=l().from(n);if(n&&i)switch(l().from(n)&&l().from(n).type){case l().Type.ALBUM:{var r;const a=((e,t)=>t.find((t=>t.uri===e)))(n,(null==e||null===(r=e.albums)||void 0===r?void 0:r.items)||[]);a&&t.push(a);break}case l().Type.ARTIST:{var s;const a=((e,t)=>t.find((t=>t.uri===e)))(n,(null==e||null===(s=e.artists)||void 0===s?void 0:s.items)||[]);a&&t.push(a);break}case l().Type.TRACK:{var o;const a=((e,t)=>t.find((t=>t.track.uri===e)))(n,(null==e||null===(o=e.tracks)||void 0===o?void 0:o.items)||[]);a&&t.push(Pe(a));break}case l().Type.EPISODE:{var c;const a=((e,t)=>t.find((t=>t.episode.uri===e)))(n,(null==e||null===(c=e.episodes)||void 0===c?void 0:c.items)||[]);a&&t.push(Ue(a));break}}return t}),[]):[]})(i);n(e)}break;case oe.ARTISTRESULTS:n(null==i||null===(t=i.artists)||void 0===t?void 0:t.items);break;case oe.ALBUMRESULTS:n(null==i||null===(a=i.albums)||void 0===a?void 0:a.items);break;case oe.TRACKRESULTS:{var s;const e=null==i||null===(s=i.tracks)||void 0===s?void 0:s.items;null!=e&&e.length&&n(e.map((e=>Pe(e))));break}case oe.EPISODERESULTS:{var o;const e=null==i||null===(o=i.episodes)||void 0===o?void 0:o.items;null!=e&&e.length&&n(e.map((e=>Ue(e))));break}case oe.ALBUM:try{const t=await N(m.uri);e&&n((e=>{const t={uri:e.uri,id:e.id,name:e.name,coverArt:e.coverArt};return e.tracks.items.map((e=>Oe(Oe({},e),{},{track:Oe(Oe({},e.track),{},{album:t})})))})(t).map((e=>Pe(e))))}catch{n([])}break;case oe.ARTIST:try{const t=await f(m.uri);e&&n((r=t).discography?[...r.discography.topTracks.items.map((e=>Pe(e))),...r.discography.popularReleases.items.map((e=>{const{uri:t,name:a,coverArt:{sources:n}}=e.releases.items[0];return{uri:t,name:a,coverArt:{sources:n}}}))]:[])}catch{n([])}}})(),()=>{e=!1}}),[m,E,N,f,g,i]),s().createElement(s().Fragment,null,s().createElement("section",{className:z.Z.playlistInlineCurationSection},s().createElement("div",{className:z.Z.playlistInlineCurationWrapper},s().createElement(S.Dy.h1,{className:z.Z.playlistInlineCurationTitle,variant:S.Dy.canon},k.ag.get("playlist.curation.title")),s().createElement(r.Suspense,{fallback:null},s().createElement(te,{placeholder:k.ag.get("playlist.curation.search_placeholder"),onFocus:()=>{t(!0)},onChange:e=>{u(e)}}))),s().createElement("button",{className:z.Z.playlistInlineCurationCloseButton,onClick:()=>t(!1)},s().createElement(H.j,{className:z.Z.closeIcon,"aria-label":k.ag.get("close")}))),null!==m&&m.navType!==oe.SEARCH?s().createElement("button",{className:z.Z.playlistInlineCurationBackButton,onClick:()=>p()},d?s().createElement(ae.V,{"aria-label":k.ag.get("navbar.go-back"),className:W()([z.Z.icon,z.Z.iconRight])}):s().createElement(ne.e,{"aria-label":k.ag.get("navbar.go-back"),className:W()([z.Z.icon,z.Z.iconLeft])}),s().createElement(S.Dy.p,{variant:S.Dy.cello},m.title)):null,s().createElement("div",{className:z.Z.searchResultListContainer,"data-testid":"playlist-inline-curation-results"},s().createElement(_e,{playlistUri:e,term:g,level:m,resultList:a,navToEntity:v,navToResults:y,isRTL:d})))};var Me=a(82760),Ve=a(35308),je=a(59916),Qe=a(15212),Ze=a(42038);const Ke="multiUserAttributionDisplayNamesV2",ze="multiUserAttributionUsernamesV2",Ge="multiUserAttributionImages",We="multiUserAttributionType";function qe(e){return(0,je.MW)(e)||(0,je.JF)(e)}const Xe=new Set(U.zq),He=new Set([]),Je=s().memo((({ariaLabel:e,nrTracks:t,playlistUri:a,playlistName:n,isCollaborative:i,isMixedMedia:c,isLive:d,isBlend:m,hasDateAdded:u,canEdit:p,scrollToUid:y,feedbackPath:g,deleteFeedbackPath:S,usePlayContextItem:b,tracklistRef:E,tracklistDomRef:N,nrCollaborators:f=1})=>{const h=(0,r.useContext)(v.ZF),{filter:C}=(0,r.useContext)(P.fo),{sortState:T,setSortState:F}=(0,r.useContext)(U.Gb),[w,D]=(0,r.useState)(t),I=(0,r.useRef)((()=>{})),[A,L]=(0,r.useState)([]),x=(0,r.useRef)({}),O=(0,o.I0)(),j=(0,r.useCallback)((()=>{null!=E&&E.current&&E.current.update()}),[E]);(0,V.r)(a,j);const Q=(0,r.useCallback)((e=>{F((0,R.VK)(e,T))}),[T,F]),Z=(0,r.useCallback)((e=>{I.current(),h.remove(a,e)}),[h,a]),K=(0,r.useCallback)(((e,t)=>{I.current=t,e.length>1?L(e):Z(e)}),[Z]);(0,r.useEffect)((()=>{null!=E&&E.current&&E.current.update()}),[T,C,E]),(0,r.useEffect)((()=>{null!=E&&E.current&&y&&E.current.scrollToItem({uid:y})}),[y,E]),(0,r.useEffect)((()=>{null!=E&&E.current&&""===C&&E.current.scrollToFirstSelected()}),[C,w,E]);const z=(0,r.useCallback)((async(e,t)=>{const n=await h.getContents(a,{offset:e,limit:t,sort:(0,R._j)(T),filter:C,decorateFormatListData:!!g||d||m}),i=n.items.filter(((t,a)=>null!==t||(x.current[a+e]=!0,!1))),l=Object.keys(x.current).length;return n.totalLength-l!==w&&D(n.totalLength-l),i}),[a,h,w,T,C,g,d,m]),G=(0,r.useCallback)(((e,t,n)=>{if(null==E||!E.current)return;const i=E.current.getRows();i[t].id&&(n===Me.W.Before?h.move(a,e,{before:i[t].id}):h.move(a,e,{after:i[t].id}))}),[a,h,E]),W=(0,r.useCallback)(((e,t,n)=>{if(null==E||!E.current)return;const i=E.current.getRows();i[t].id&&(n===Me.W.Before?O((0,Ze.jV)(a,e,{before:i[t].id})):O((0,Ze.jV)(a,e,{after:i[t].id})))}),[a,O,E]),q=(0,r.useCallback)(((e,t)=>{var r,o,u,k,v,y;let E,N;const C=!!(0,je.JF)(e)&&e.podcastSubscription.isUserSubscribed;if((0,je.JF)(e))E=e.show,N=e.images.concat(e.show.images);else if((0,je.MW)(e)){var R;E=e.album,N=null===(R=e.album)||void 0===R?void 0:R.images}const F=(0,M.X)(N,{desiredSize:40,desiredLabel:"small"});let w=[];p&&T.order===_.kn.NONE&&(w=[Qe.aN[l().Type.TRACK],Qe.aN[l().Type.LOCAL],Qe.aN[l().Type.EPISODE]]);const D="1"===(null==e||null===(r=e.formatListAttributes)||void 0===r?void 0:r["dislike-feedback-selected"]);let I=!1;(0,je.JF)(e)&&e.podcastSubscription.isPaywalled&&!C?I=!0:qe(e)&&(I=e.isPlayable&&!D);const A=m&&((e,t)=>{var a;const n=[];if(!(t&&Ke in t&&ze in t&&Ge in t&&We in t))return n;const i=null==t?void 0:t[Ke].split(","),r=null==t?void 0:t[ze].split(","),s=null==t||null===(a=t[Ge])||void 0===a?void 0:a.split(","),o=null==t?void 0:t[We].split(","),c=r.length;for(let e=0;e<c;e++){const t=r[e];n.push({type:Le.p.USER,username:t,uri:l().profileURI(t).toURI(),displayName:i[e],images:[{url:s[e]}],recsplanation:o[e]})}return n.sort(((t,a)=>t.username===(null==e?void 0:e.username)?-1:a.username===(null==e?void 0:e.username)?1:0))})(e.addedBy,null==e?void 0:e.formatListAttributes)||e.addedBy&&[e.addedBy]||[];return s().createElement(_.dx,{key:t+e.uri,index:t,playIndex:null!==(o=e.playIndex)&&void 0!==o?o:void 0,contextUri:a,uri:e.uri,uid:null!==(u=e.uid)&&void 0!==u?u:void 0,id:e.id,isPlayable:I,duration_ms:qe(e)?e.duration.milliseconds:0,isPaywalled:!!(0,je.JF)(e)&&e.podcastSubscription.isPaywalled,isUserSubscribed:C,name:qe(e)?e.name:"",artists:(0,je.MW)(e)?e.artists:void 0,albumOrShow:E,isExplicit:(0,je.MW)(e)&&e.isExplicit,isCollaborative:i,nrCollaborators:f,isMixedMedia:c,isLocal:(0,je.MW)(e)&&e.isLocal,addedBy:A,hasDecoratedAddedBy:h.getCapabilities().canDecorateAddedBy,dateAdded:e.addedAt,release_date:(0,je.JF)(e)&&e.release.date.toString()||"",isMOGEFRestricted:(0,je.MW)(e)&&e.is19PlusOnly,type:e.type,imgUrl:(null==F?void 0:F.url)||"",onMove:G,onInsert:W,usePlayContextItem:b,allowedDropTypes:w,feedbackPath:g,feedbackUri:null==e||null===(k=e.formatListAttributes)||void 0===k?void 0:k.feedback_uri,deleteFeedbackPath:S,isDisliked:D,playlistName:n,isLive:d,isBlend:m,ticketingSiteURL:null==e||null===(v=e.formatListAttributes)||void 0===v?void 0:v.ticketingSite,eventDate:null==e||null===(y=e.formatListAttributes)||void 0===y?void 0:y.eventDate})}),[p,T,a,i,f,c,h,G,W,b,g,S,n,d,m]);return s().createElement(s().Fragment,null,s().createElement(B.ZP,{value:"playlist-tracklist"},s().createElement(_.Pv,{testID:"playlist-tracklist",key:a,ariaLabel:e,hasHeaderRow:!0,columns:(0,R.RG)(i,c,u,d,m,f),sortableColumns:h.getCapabilities().canSort?Xe:He,sortState:T,onSort:Q,onRemove:K,renderRow:q,resolveUri:e=>e.uri,resolveUid:e=>e.id,nrTracks:w,fetchTracks:z,limit:100,canFetchAllTracks:h.getCapabilities().canFetchAllTracks,outerRef:E,outerDomRef:N})),s().createElement(Ve.h,{title:k.ag.get("playlist.remove_from_playlist",n),isOpen:A.length>0,tracks:A,onClose:e=>{e.stopPropagation(),L([])},onRemove:Z}))}));var $e=a(62890),Ye=a(42714),et=a(27826);function tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function at(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(a),!0).forEach((function(t){le()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const nt=s().memo((({playlistUri:e,playlistLength:t})=>{const{tracks:a,refresh:n,onAdd:i}=((e,t=10)=>{const a=2*t,n=3*t,i=(0,r.useRef)(0),[l,s]=(0,r.useState)(e),[o,c]=(0,r.useState)([]),d=(0,r.useRef)([]),m=(0,r.useContext)(Ye.Z);(0,r.useEffect)((()=>(c([]),s(e),d.current=[],i.current=i.current+1,()=>{i.current=i.current+1})),[e]),(0,r.useEffect)((()=>{if(o.length<a){const e=Math.min(a,n-o.length),t=i.current;m.getRecommendedTracks(l,d.current,e).then((a=>{if(t!==i.current)return;const n=a.map((e=>(null==e?void 0:e.uri)&&et.o.from(e.uri).id)).filter((e=>null!==e));a.length<e&&d.current.length?d.current=[]:d.current=[...d.current,...n],c((e=>[...e,...a]))}))}}),[a,n,m,l,o.length]);const u=(0,r.useCallback)((()=>{c((e=>e.slice(t)))}),[t]),k=(0,r.useCallback)((e=>{c((t=>t.filter((t=>t.uri!==e))))}),[]);return{tracks:o.slice(0,t),_bufferedTracks:o.slice(t),refresh:u,onAdd:k}})(e),l=!t||0===t,{usePlayContextItem:o}=(0,Ie.n)({uri:e.replace("spotify:","spotify:internal:recs:"),pages:[{items:a.map((e=>at(at({},e),{},{provider:null,type:Le.p.TRACK,uid:null})))}]},{featureIdentifier:"playlist_recommendations"}),c=(0,r.useCallback)(((t,a)=>s().createElement(_.cp,{key:t.uri,index:a,imgUrl:t.album.imageUrl,contextUri:e.replace("spotify","spotify:internal:recs"),uri:t.uri,isPlayable:!t.isMOGEFRestricted,name:t.name,artists:t.artists,onItemAdded:()=>i(t.uri),album:at(at({},t.album),{},{imgUrl:t.album.imageUrl}),isExplicit:t.explicit,isMOGEFRestricted:t.isMOGEFRestricted,usePlayContextItem:o})),[e,o,i]),d=(0,r.useMemo)((()=>[_.QD.TITLE,_.QD.ALBUM,_.QD.ADD]),[]),m=(0,r.useCallback)((e=>e.uri),[]),u=(0,r.useCallback)((e=>e.id),[]),p=(0,r.useMemo)((()=>a.slice(0,Math.min(a.length,10))),[a]);return a.length>0?s().createElement("div",{className:z.Z.recommendedTrackList},s().createElement("div",{className:z.Z.top},s().createElement("div",{className:z.Z.header},s().createElement(S.Dy,{variant:S.Dy.canon,className:z.Z.title},k.ag.get("playlist.extender.recommended.title")),s().createElement(S.Dy,{variant:S.Dy.mesto,className:z.Z.subtitle},l?k.ag.get("playlist.extender.title.in.playlist"):k.ag.get("playlist.extender.songs.in.playlist")))),a.length?s().createElement(s().Fragment,null,s().createElement(_.Pv,{ariaLabel:k.ag.get("playlist.extender.recommended.title"),key:`${e}-recommended`,nrTracks:Math.min(a.length,10),rowPlaceholder:_.hU,tracks:p,renderRow:c,resolveUri:m,resolveUid:u,columns:d}),s().createElement($e.z,{version:"tertiary",className:z.Z.refreshButton,onClick:n},s().createElement(S.Dy,{variant:S.Dy.minuetBold},k.ag.get("playlist.extender.refresh")))):null):null}));var it=a(20246),lt=a(13020),rt=a(95661),st=a(43620),ot=a(66560),ct=a(32129),dt=a(32648),mt=a(98778),ut=a(87454),kt=a(88063),pt=a(18228);var vt=a(70369),yt=a(32567),gt=a(45287),St=a(67154),bt=a.n(St),Et=a(6479),Nt=a.n(Et),ft=a(73197);const ht="CpQBQL6M4D3bquNOpKd9";var Ct=a(76955),Tt=a(83692);const Rt=["uri","label"],Ft=e=>{let{uri:t,label:a}=e,n=Nt()(e,Rt);const{onCopyLink:i}=(0,Ct.l)({uri:t,permissionLevel:"CONTRIBUTOR"});return s().createElement(Tt.w,{label:a},s().createElement(ft.I,bt()({},n,{className:ht,onClick:i,iconSize:32})))};var wt=a(8455);const Dt="hOOwEKqNuXrNvOCB1SgZ",It="csEdkIN9z2LjJIuZraqz",At=({uri:e})=>{const[t,a]=(0,p.Z)(e),n=(0,c.k6)(),i=(0,r.useCallback)((()=>{a(!1),n.replace("/collection/playlists")}),[n,a]);return s().createElement("div",{className:Dt},s().createElement(wt.Z,{iconSize:64}),s().createElement("div",{className:It},s().createElement(S.Dy.p,{variant:S.Dy.canon},k.ag.get("forbidden-page.title")),s().createElement(S.Dy.p,{variant:S.Dy.mesto},k.ag.get("forbidden-page.description"))),t&&s().createElement($e.z,{version:"secondary",onClick:i},k.ag.get("remove_from_your_library")))};var Lt=a(83979);const xt=s().lazy((()=>a.e(682).then(a.bind(a,45685)))),Ot=(e,t,a,n,i,l,r)=>e?U.RJ:(0,R.RG)(t,a,n,i,l,r),Pt=s().memo((({metadata:e,capabilities:t})=>{var a;const{uri:i,name:v,images:y,totalLength:g,isOwnedBySelf:b,isCollaborative:E,hasEpisodes:N,hasSpotifyTracks:L,canAdd:_,canRemove:B,canPlay:M,formatListData:V,hasDateAdded:j,collaborators:Q}=e,Z="chart"===(null==V?void 0:V.type),G="live-streams"===(null==V?void 0:V.type),W="blend"===(null==V?void 0:V.type),q=!!N,X=(null==V?void 0:V.attributes)||{},H=X.header_image_url_desktop||X.image_url||null,$=(0,J.W6)(n.pg),Y=_&&B,ee=t.canFilter&&g>0,te=t.canSort&&g>0,{filterBoxApiRef:ae,filterBoxDomRef:ne,tracklistDomRef:ie,handleKeyDown:le}=(0,T.Q)(),re=(0,C.k)(),se=re&&g>0,{scrollNodeChildRef:oe}=(0,r.useContext)(dt.VX),{productState:ce}=(0,o.v9)(F.Gg),de=!!ce&&parseInt(ce.ads,10)>0,[me,ue]=(0,r.useState)(Y&&0===g&&$),ke=(0,o.I0)(),pe=(0,c.k6)(),ve="POP"!==pe.action?new URLSearchParams(pe.location.search).get("uid"):null,[ye,ge]=(0,p.Z)(i),Se=(0,h.o)(),{filter:be}=(0,r.useContext)(P.fo),{sortState:Ee}=(0,r.useContext)(U.Gb),Ne=(0,r.useRef)(null),[fe]=y,he=(0,st.Z)(null!==H?H:(null==fe?void 0:fe.url)||null),{isPlaying:Ce,togglePlay:Te,usePlayContextItem:Re}=(0,Ie.n)(function(e,t,a){const n={uri:e};return(0,ut.R)(n,t),(0,kt.IC)(n,(0,pt.cj)(a)),n}(i,(0,R._j)(Ee),be),{featureIdentifier:"playlist"}),Fe=(0,r.useCallback)((()=>Te()),[Te]),we=(0,r.useCallback)((async()=>{Se({targetUri:i,intent:ye?"unsave":"save",type:"click"});try{await ge(!ye)}catch{}}),[Se,i,ye,ge]),De=e=>{ue(e)};(0,r.useEffect)((()=>{var e;oe&&me&&(null===(e=oe.current)||void 0===e||e.scrollIntoView({block:"end",behavior:"smooth"}))}),[oe,me]);const Ae=(0,r.useCallback)((e=>{const t=e.split(/[\r\n]+/g).map((e=>l().from(e))).filter((e=>l().isTrack(e)||l().isEpisode(e)));if(t.length>0&&_){var a,n,r;const e=t.map((e=>e.toURI())),l=null===(a=Ne.current)||void 0===a||null===(n=a.getSelected())||void 0===n||null===(r=n.slice(-1))||void 0===r?void 0:r[0],s={after:(null==l?void 0:l.uid)||"end"};ke((0,Ze.jV)(i,e,s))}}),[_,ke,i]);return(0,ot.aw)(Ae),s().createElement(r.Suspense,{fallback:null},s().createElement(vt.$,null,k.ag.get("playlist.page-title",v)),s().createElement("section",{role:"presentation",className:z.Z.playlist,"data-testid":"playlist-page","data-test-uri":i,onKeyDown:le},s().createElement(Lt.s,{metadata:e,isPlaying:Ce,togglePlay:Fe,backgroundColor:he}),s().createElement("div",{className:z.Z.playlistContent},s().createElement(d.o,{backgroundColor:he},s().createElement(d.F,null,M?s().createElement(O.$,{onClick:Fe,isPlaying:Ce,size:u.qE.lg,uri:i,ariaPlayLabel:k.ag.get("playlist.a11y.play",v),ariaPauseLabel:k.ag.get("playlist.a11y.pause",v)}):null,b&&L&&s().createElement(x.F,{property:n.Up,renderNewExperience:()=>s().createElement(yt.v,{uri:i})}),b?null:s().createElement(mt.r,null,s().createElement(m.H,{isAdded:!!ye,onClick:we,size:m.q.md})),se?s().createElement(w.o,{uri:i,isFollowing:!!ye,onFollow:we,size:w.q.md}):null,s().createElement(x.F,{property:n.bM,renderNewExperience:()=>{var t;return null!==(t=e.permissions)&&void 0!==t&&t.canAdministratePermissions?s().createElement(Ft,{label:k.ag.get("permissions.invite-collaborators",v),uri:i}):null}}),s().createElement(it.y,{menu:s().createElement(lt.X,{uri:i})},s().createElement(rt.z,{label:k.ag.get("more.label.context",v)})),ee&&te&&s().createElement("div",{className:z.Z.searchBoxContainer},s().createElement(r.Suspense,{fallback:null},s().createElement(I.K,{placeholder:k.ag.get("playlist.search_in_playlist"),filterBoxApiRef:ae,outerRef:ne})),s().createElement(ct.c,{columns:Ot(Z,E,q,j,G,W,null!==(a=null==Q?void 0:Q.count)&&void 0!==a?a:1)})))),s().createElement("div",{className:"contentSpacing"},de?s().createElement(f,{playlistUri:i}):null,g>0?s().createElement(r.Suspense,{fallback:null},Z?s().createElement(K,{key:i,ariaLabel:v,nrTracks:g,playlistUri:i,rankType:X.rank_type||"",scrollToUid:ve,usePlayContextItem:Re,tracklistDomRef:ie}):s().createElement(Je,{key:i,ariaLabel:v,nrTracks:g,playlistUri:i,playlistName:v,hasDateAdded:j,isCollaborative:E,isMixedMedia:q,isLive:G,isBlend:W,canEdit:Y,scrollToUid:ve,feedbackPath:X["dislike-endpoint"],deleteFeedbackPath:X["delete-endpoint"],usePlayContextItem:Re,tracklistRef:Ne,tracklistDomRef:ie,nrCollaborators:null==Q?void 0:Q.count})):s().createElement(r.Suspense,{fallback:null},s().createElement(x.F,{property:n.pg,renderNewExperience:()=>null,renderOldExperience:()=>s().createElement(D.u,{message:k.ag.get("playlist.empty_state_subtitle"),title:k.ag.get("playlist.empty_state_title"),linkTo:"/browse/newreleases",linkTitle:k.ag.get("browse.new-releases"),renderInline:!0},s().createElement(A.Z,null))})),b?s().createElement(r.Suspense,{fallback:null},s().createElement(x.F,{property:n.pg,renderNewExperience:()=>me?s().createElement(Be,{playlistUri:i,onCurationModeChange:De}):s().createElement("button",{className:z.Z.seeMore,onClick:()=>{De(!0)}},s().createElement(S.Dy,{as:"div",variant:S.Dy.minuetBold},k.ag.get("playlist.curation.find_more"))),renderOldExperience:()=>null})):null,b&&!me&&re?s().createElement(nt,{playlistUri:i,playlistLength:e.totalLength}):null)))," ")})),Ut=s().memo((()=>{const{playlistId:e}=(0,c.UO)(),{search:t}=(0,c.TH)(),a=(0,J.W6)(n.bM),i=(0,r.useContext)(v.ZF).getCapabilities(),d=l().playlistV2URI((e||"").split("&")[0]).toURI(),{isAnonymous:m}=(0,o.v9)(F.Gg),{isEnhanced:u}=(0,gt.U)(d);(0,r.useEffect)((()=>{const e=new URLSearchParams(t).get("prid");if(!m&&e){const t=`https://spclient.wg.spotify.com/algotorial-sharing-service/v1/shared?playlistId=${d}&sharedEntityUri=${e}`;(0,y.k)().request(t,{method:"POST",authorize:!0,allowOffline:!0})}}),[d,m,t]);const p=(0,v.ET)(d,{decorateFormatListData:!0,withSync:!0,hydrateCollaboratorsWithMembers:a});if(!p)return s().createElement(L.h,{errorMessage:k.ag.get("error.not_found.title.playlist"),loadOffline:i.canModifyOffline});if(p.permissions&&!p.permissions.canView)return s().createElement(At,{uri:d});const g=s().createElement(U.kz,{uri:d},s().createElement(P.hz,{uri:d},s().createElement(Pt,{metadata:p,capabilities:i})));return s().createElement(x.F,{property:n.Up,renderNewExperience:()=>u?s().createElement(xt,{metadata:p}):g,renderOldExperience:()=>g})}))},83979:(e,t,a)=>{a.d(t,{s:()=>T});var n=a(17231),i=a(44503),l=a(20657),r=a(67294),s=a.n(r),o=a(55911),c=a(18261),d=a(58548),m=a(76343),u=a(13020),k=a(37338),p=a(42273),v=a(59482),y=a(72907),g=a(67892),S=a(55120),b=a(24172),E=a(32810),N=a(2751);function f(e){return e.user||null}function h(e){return!!e}function C(e,t=!1){return{id:e.username,uri:e.uri,name:e.username,displayName:e.displayName||void 0,images:e.images,isMadeFor:t}}const T=function({metadata:e,isPlaying:t,togglePlay:a,backgroundColor:T}){const{uri:R,name:F,description:w,images:D,totalLength:I,totalLikes:A,duration:L,owner:x,isOwnedBySelf:O,isCollaborative:P,formatListData:U,madeFor:_,collaborators:B}=e,M=(null==U?void 0:U.attributes)||{},V=M.header_image_url_desktop||M.image_url||null,j=null!==V?[{url:V,width:null,height:null}]:[],Q=(0,n.W6)(i.G8),Z=(0,n.W6)(i.bM),K=Q&&O,z=(0,r.useMemo)((()=>function(e,t,a=[],n){return e?[C(e,!0)]:a.length>1&&n?a.map(f).filter(h).map((e=>C(e))):[C(t)]}(_,x,null==B?void 0:B.items,Z)),[_,x,null==B?void 0:B.items,Z]),G=(0,r.useContext)(b.zy),W=(0,r.useContext)(E.S7),q=(0,r.useCallback)((()=>{W({type:"open",uri:R})}),[W,R]),X=(0,r.useCallback)((e=>{G({type:"open",playlistDetails:{name:F,description:w,image:D[0],uri:R},focusedElement:e})}),[G,F,w,D,R]),H=(0,r.useCallback)((()=>{G({type:"openWithImagePicker",playlistDetails:{name:F,description:w,image:D[0],uri:R}})}),[G,F,w,D,R]),J=Z&&e.permissions?null!==($=e.permissions)&&void 0!==$&&$.isPrivate?l.ag.get("private_playlist"):l.ag.get("public_playlist"):P?l.ag.get("sidebar.collaborative_playlist"):l.ag.get("playlist");var $;return s().createElement(p.gF,{backgroundColor:T,backgroundImages:j},s().createElement(v.W,null,s().createElement(S.$,{size:o.qE.sm,onClick:a,isPlaying:t,uri:R}),s().createElement(y.i,{text:F,dragUri:R,dragLabel:F})),V?null:s().createElement(c._,{menu:s().createElement(u.X,{uri:R})},s().createElement("div",{className:N.Z.playlistImageContainer},s().createElement(k.T,{canEdit:K,name:F,images:D,onClick:H,placeholderType:"playlist",dragUri:R}))),s().createElement(p.sP,null,s().createElement(p.dy,{small:!0,uppercase:!0},J),s().createElement(c._,{menu:s().createElement(u.X,{uri:R})},s().createElement(p.xd,{canEdit:K,onClick:()=>X(b.w.TITLE),dragUri:R,dragLabel:F,ariaLabel:l.ag.get("playlist.edit-details.button",F)},F)),w&&s().createElement(p.dy,{bold:!1,gray:!0,canEdit:K,onClick:e=>(e=>{e.target.href||X(b.w.DESCRIPTION)})(e)},s().createElement(d.kf,{paragraphClassName:N.Z.playlistDescription,source:w,LinkComponent:g.r,variant:m.$e.viola})),s().createElement(p.QS,{creators:z,onPiledCreatorsClick:q,totalTracks:I,totalLikes:A||0,durationMilliseconds:null==L?void 0:L.milliseconds,isEstimatedDuration:null==L?void 0:L.isEstimate,newEntries:parseInt(M.new_entries_count||"0",10)})))}},32129:(e,t,a)=>{a.d(t,{c:()=>m});var n=a(67294),i=a.n(n),l=a(28248),r=a(78462),s=a(36132),o=a(95289),c=a(5292);function d(e){return!!e}const m=({columns:e})=>{const t=[...e];t.splice(2,0,l.QD.ARTIST);const{sortState:a,setSortState:m}=(0,n.useContext)(r.Gb),u=function(e){return null===e.column?c.mE[l.QD.INDEX]:(0,s.cB)(e.column,e.order)?c.mE[l.QD.ARTIST]:c.mE[e.column]}(a),k=(0,n.useCallback)((e=>{m((0,c.WQ)(e,a.column,a.order))}),[m,a.column,a.order]),p=(0,n.useCallback)((()=>null!==a.column),[a.column]),v=t.map((e=>c.mE[e])).filter(d);return i().createElement(o.A,{options:v,onSelect:k,selected:u,isSelectionChanged:p,sortOrder:a.order})}},35308:(e,t,a)=>{a.d(t,{h:()=>p});var n=a(67294),i=a.n(n),l=a(20657);const r="J0xJcBaKhwl9EIuzvhLg",s="ce3qMCnc2kDVSi7k74fh",o="tlBLfMv0fCxd31jPTQhL",c="AytCc2WKUld6N212Pcpu",d="Uw9aTbBCa7QzSsZSGAG5";var m=a(85105),u=a(16229),k=a(76343);const p=i().memo((({onClose:e,onRemove:t,isOpen:a,tracks:p,title:v})=>{const y=(0,n.useCallback)((a=>{t(p),e(a)}),[t,e,p]);return i().createElement(m.Z,{shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:e,contentLabel:v,isOpen:a},i().createElement("div",{className:r},i().createElement(k.Dy,{as:"h2",variant:k.Dy.cello,className:s},v),i().createElement(k.Dy,{as:"p",variant:k.Dy.mesto,className:o},l.ag.get("playlist.remove_multiple_description")),i().createElement("div",{className:c},i().createElement(u.Y,{className:d,version:"tertiary",onClick:e},l.ag.get("playlist.delete-cancel")),i().createElement(u.Y,{version:"primary",onClick:y},l.ag.get("remove")))))}))},32567:(e,t,a)=>{a.d(t,{v:()=>y});var n=a(6479),i=a.n(n),l=a(67154),r=a.n(l),s=a(95688),o=a(24209),c=a(20657),d=a(67294),m=a.n(d),u=a(83692),k=a(45287);const p=["uri"],v=e=>m().createElement(s.d,r()({semanticColor:"textPositive"},e)),y=e=>{let{uri:t}=e,a=i()(e,p);const{isEnhanced:n,toggleIsEnhanced:l}=(0,k.U)(t);return m().createElement(u.w,{label:n?c.ag.get("web-player.enhance.button_aria_label_enhanced"):c.ag.get("web-player.enhance.button_aria_label_not_enhanced")},m().createElement(o.P,r()({buttonSize:"sm"},a,{iconLeading:n?v:void 0,onClick:l}),n?c.ag.get("web-player.enhance.button_text_enhanced"):c.ag.get("web-player.enhance.button_text_not_enhanced")))}},1169:(e,t,a)=>{a.d(t,{Q:()=>i});var n=a(67294);const i=()=>{const e=(0,n.useRef)(null),t=(0,n.useRef)(null),a=(0,n.useRef)(null);return{filterBoxApiRef:e,filterBoxDomRef:t,tracklistDomRef:a,handleKeyDown:n=>{var i,l,r;"Escape"===n.key&&((null!==(i=t.current)&&void 0!==i&&i.contains(n.target)||null!==(l=a.current)&&void 0!==l&&l.contains(n.target))&&(null===(r=e.current)||void 0===r||r.clearFilter()))}}}},40080:(e,t,a)=>{a.d(t,{D:()=>i});var n=a(67294);function i(e){const t=(0,n.useRef)();return(0,n.useEffect)((()=>{t.current=e}),[e]),t.current}},2751:(e,t,a)=>{a.d(t,{Z:()=>n});const n={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",playlist:"dZ3U5sTGUTdanNamXe1z",searchBoxContainer:"KodyK77Gzjb8NqPGpcgw",recommendedTrackList:"kwe0I8sSNMv3gYBjkRYP",playlistContent:"rezqw3Q4OEPB1m4rmwfw",playlistDescription:"fUYMR7LuRXv0KJWFvRZA",top:"PZkwbwJD1afoCmJkGt8w",header:"yP3JLuwUNDIQHxRFilK3",subtitle:"NCKSUYdZaTMrobq8ilkc",refreshButton:"QmGi2oa43BTcEZ5MCr9T",playlistImageContainer:"oq1ci28WPaRsWkvRiB_J",playlistInlineCurationSection:"Ykd_JWqkR9gSLHISDBwP",playlistInlineCurationWrapper:"g9xHCCSXDR8S5NvTbfwL",playlistInlineCurationTitle:"SMJIXlalPk_TESlyt2pC",playlistInlineCurationCloseButton:"FC40AOSbVM9LXjVi7bjO",playlistInlineCurationBackButton:"hVcUafGrnsA6nD1dJzc5",artistResultListTitle:"rARdlCShKVQsvuXamFOX",seeMore:"STDuzt77yRCueC4Ohenl",emptyStateContainer:"Bl_kg24BjWgcXPokgEKy",searchResultListContainer:"sAPXlA_oxu_8x1Cn0NTC",emptySearchTermContainer:"_Z2TnFjt8GB5ryOtvyti",icon:"tzeKawjOOKFw1KfQ34mG"}}}]);
//# sourceMappingURL=xpui-routes-playlist.js.map