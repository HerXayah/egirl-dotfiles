"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[450],{70369:(e,t,n)=>{n.d(t,{$:()=>l.$});var l=n(22578)},95989:(e,t,n)=>{n.d(t,{c:()=>C});var l=n(59713),r=n.n(l),o=n(67294),a=n.n(o),i=n(21794),c=n(1150),s=n(42922),u=n(56661),d=n(5001),m=n(67154),g=n.n(m),v=n(6479),f=n.n(v),h=n(1496),E=n(25949),p=n(19480);const y=["index","id"],b=e=>{let{index:t,id:n}=e,l=f()(e,y);const{seeAllUri:r}=l,{spec:i,logger:c,UBIFragment:s}=(0,h.fU)(E.createDesktopShelfEventFactory,{data:{identifier:n,position:t}}),u=(0,o.useCallback)((()=>{const e=i.shelfHeaderFactory().shelfHeaderTitleFactory().hitUiNavigate({destination:null!=r?r:""});c.logInteraction(e)}),[c,r,i]),d=(0,o.useCallback)((()=>{const e=i.shelfHeaderFactory().shelfHeaderSeeAllFactory().hitUiNavigate({destination:null!=r?r:""});c.logInteraction(e)}),[c,r,i]),m=(0,h.Wi)(i);return a().createElement(s,{spec:i},a().createElement(p.P,g()({},l,{onClickShelfTitle:u,onClickShelfSeeAll:d,elementRef:m})))};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const C=({spaces:e,viewName:t,viewId:n,isAnonymous:l})=>{const r=(0,o.useCallback)((e=>{const t=((e,t)=>{let{uri:n}=e;return e.href.includes("https://api.spotify.com/v1/views/")&&(n=e.href.replace("https://api.spotify.com/v1/views/","spotify:genre:"),n.endsWith("-page")||(n+="-page"),"hub-browse-grid"===t&&(n=n.replace(":view:",":genre:"))),n})(e,n),l=(0,u.U)(t);return a().createElement(l,{key:e.href,entity:k(k({},e),{},{uri:t})})}),[n]),m=(0,o.useCallback)(((e,t)=>{const n=(0,u.U)(e.uri);return a().createElement(s.JL,{key:e.uri||t,value:"card",index:t},a().createElement(n,{entity:e}))}),[]),g=(0,o.useCallback)(((e,t)=>"link"===e.type?r(e):m(e,t)),[m,r]),v=(0,o.useCallback)((e=>!((e=>"HEADER"===e.rendering)(e)||0===e.content.total||l&&"uniquely-yours-shelf"===e.id)),[l]);return e&&0!==e.length?e[0].content?a().createElement(a().Fragment,null,e.filter(v).map(((e,t)=>{const l=e.content&&(0,i.p)((0,i.S)(e.href));return e.id===c.RECENTLY_PLAYED_VIEW_ID||e.id===d.uK?a().createElement(s.JL,{value:"headered-grid",index:t,key:e.id},a().createElement(c.RecentlyPlayed,{showAll:!1})):a().createElement(s.JL,{value:"headered-grid",index:t,key:e.id},a().createElement(b,{total:e.content.total,seeAllUri:l,pageId:n,title:e.name,tagline:e.tag_line||void 0,index:t,id:e.id},e.content.items.map(g)))}))):a().createElement(s.JL,{value:"headered-grid"},a().createElement(b,{showAll:!0,title:t,total:(null==e?void 0:e.length)||0,index:0,id:null!=n?n:"spaces-see-all-grid"},null==e?void 0:e.map(g))):null}},71479:(e,t,n)=>{n.r(t),n.d(t,{DISALLOWED_VIEWS:()=>S,View:()=>x,default:()=>F});var l=n(67294),r=n.n(l),o=n(94184),a=n.n(o),i=n(33241),c=n(65858),s=n(94321);const u="XD65NhAD6ebYxMaW9cZZ",d="AJqEY1gblQDvIgjU0jAH",m="Ft1cMGlqDsCbqmXQyeKN",g="zlBEnsMyvUhuHSEtst4Q";var v=n(51574),f=n(1663),h=n(20657),E=n(61202),p=n(21794),y=n(42273),b=n(59482),w=n(72907),k=n(31595),C=n(95989),A=n(29255),I=n(70369),D=n(35808);const O=e=>"HEADER"===e.rendering,P=e=>{const{title:t,images:n,backgroundColor:l}=e;return r().createElement(r().Fragment,null,((e,t=[],n)=>{if(!e)return null;const l=t.filter((e=>"background"===e.name));return r().createElement(y.gF,{backgroundImages:l,backgroundColor:n,size:0===l.length?y.fR.SMALL:y.fR.DEFAULT},r().createElement(b.W,null,r().createElement(w.i,{text:e})),r().createElement(y.sP,null,r().createElement(y.xd,null,e)))})(t,n,l))},S=["ginger-genre-affinity"],x=r().memo((({viewData:e,viewId:t,backgroundColor:n,isFullyLoaded:o,country:c,isGenre:s,isAnonymous:p,getNextPage:b,refreshContents:w})=>{const A=(0,E.k6)(),D=!!e,x=null==e?void 0:e.name;(0,l.useEffect)((()=>{c&&"POP"!==A.action&&t&&w()}),[c,t,A.action,D,w]);const F=(0,l.useCallback)((()=>S.some((t=>{var n;return null==e||null===(n=e.href)||void 0===n?void 0:n.includes(t)}))),[e]),N=(0,l.useCallback)((()=>{if(!e)return;const t=F();o||t||b()}),[e,F,o,b]),L=(0,l.useMemo)((()=>{const{content:{items:t=[]}={}}=e||{},n=t.filter(O);return n.length>0?n[0]:null}),[e]),j=(0,l.useMemo)((()=>{const{name:t}=e||{};return L?L.name:n&&t}),[n,L,e]),M=(0,l.useMemo)((()=>s||Boolean(j)),[s,j]),U=(0,l.useMemo)((()=>!(!e||!Array.isArray(e.content.items))&&M),[M,e]),H=(0,y.oX)(t)?r().createElement(y.YD,{isAnonymous:p}):r().createElement(P,{title:(null==L?void 0:L.name)||j,images:(null==L?void 0:L.images)||[],backgroundColor:n}),R=null==e?void 0:e.content.items;return e?r().createElement(r().Fragment,null,x?r().createElement(I.$,null,x):null,r().createElement(i.C,{onReachBottom:N},r().createElement("section",{className:a()({[u]:(null==L?void 0:L.name)||j})},U&&r().createElement(k.H,{color:n||null}),M&&H,r().createElement("div",{className:m},M&&H&&r().createElement(v.I,{backgroundColor:n}),r().createElement("div",{className:a()(d,"contentSpacing",{[g]:s})},r().createElement(C.c,{spaces:R,viewName:e.name,viewId:t,isAnonymous:p})))))):r().createElement(f.h,{errorMessage:h.ag.get("error.not_found.title.page")})})),F=r().memo((({viewId:e,match:t})=>{const n=e||t.params.viewId,{isAnonymous:l}=(0,c.v9)(A.Gg),o=(0,c.v9)(s.r),{view:a,getNextPage:i,refreshContents:u}=(0,D.P)(n),d=!a||null===a.content.next,m=n.endsWith("-page")?n:`${n}-page`,g=(0,c.v9)((e=>{var t,n;return(null===(t=e.browse.allItemsStyle)||void 0===t||null===(n=t[m])||void 0===n?void 0:n.color)||""})),v=e=>e.viewId===n||"href"in e&&e.href===(0,p.p)(n),f=(0,c.v9)((e=>{var t,n,l,r;return(null==e||null===(t=e.browse)||void 0===t||null===(n=t.browseAll)||void 0===n?void 0:n.items.some(v))||(null==e||null===(l=e.browse)||void 0===l||null===(r=l.topGenres)||void 0===r?void 0:r.items.some(v))||!!g}));return r().createElement(x,{viewData:a,isFullyLoaded:d,viewId:n,backgroundColor:g,country:o,isGenre:f,isAnonymous:l,getNextPage:i,refreshContents:u})}))},33241:(e,t,n)=>{n.d(t,{C:()=>u});var l=n(67294),r=n.n(l),o=n(70131),a=n(94184),i=n.n(a);const c="eqw9lvuoZHrkWMTdyTpY",s="lb08f71wES9AQnKx6e0R",u=r().memo((e=>{const{triggerOnInitialLoad:t=!1,onReachBottom:n,showScrollbar:a=!0,horizontalScroll:u=!1}=e,{ref:d,inView:m}=(0,o.YD)({initialInView:t});return(0,l.useEffect)((()=>{m&&n&&n()}),[m,n]),r().createElement("div",{className:i()({[s]:!a,[c]:u}),"data-testid":"infinite-scroll-list"},e.children,r().createElement("div",{ref:d}))}))},35808:(e,t,n)=>{n.d(t,{P:()=>c});var l=n(94321),r=n(29255),o=n(67294),a=n(65858),i=n(43088);const c=e=>{const t=(0,i.n)(),[n,c]=(0,o.useState)((()=>t.getViewFromCache(e))),s=(0,a.v9)(l.r),{locale:u,overrides:d}=(0,a.v9)(r.Gg),m=(null==d?void 0:d.country)||s,g=(null==d?void 0:d.locale)||u;(0,o.useEffect)((()=>{t.getView(e,{country:m,locale:g}).then((e=>{c(e)}))}),[m,g,e,t]);return{view:n,getNextPage:(0,o.useCallback)((()=>{t.getMore(e).then((e=>{e&&c(e)}))}),[e,t]),refreshContents:(0,o.useCallback)((()=>{t.getView(e,{country:m,locale:g,ignoreCache:!0}).then((e=>{c(e)}))}),[m,g,e,t])}}}}]);
//# sourceMappingURL=xpui-routes-view.js.map