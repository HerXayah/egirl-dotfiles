"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[553],{90110:(e,t,a)=>{a.d(t,{q:()=>T,o:()=>R});var l=a(67294),n=a.n(l),r=a(69518),o=a.n(r),s=a(50020),i=a(96895),c=a(24656),u=a(69010),m=a(94184),d=a.n(m);const g="l_MW0G9qeeCKlVJwBykT",p="BKsbV2Xl786X9a09XROH",E="HbKLiGoYM4dpuK8L4TMX",y="_APVWqivXc4YqgsnpFkP",C="VmwiDoU6RpqyzK_n7XRO",f="rEx3EYgBzS8SoY7dmC6x",w="z3zia5snl987x676qe5w";var k=a(6116),b=a(20657),v=a(40080),h=a(38209);var D=a(80946),S=a(83692);let T;!function(e){e[e.sm=24]="sm",e[e.md=32]="md"}(T||(T={}));const x=e=>{const{currentTarget:t,detail:a}=e;a>0&&t&&t.blur()},R=({uri:e,isFollowing:t,onFollow:a,size:r=T.sm,className:m,onClick:R=(()=>{})})=>{const L={"--size":`${r}px`},{useDownloading:N,useDownloadCapability:A}=(0,l.useContext)(c.I),[O,_]=(0,l.useState)(!1),[P,I]=A(o().isEpisode(e)),[B,M]=(0,l.useState)(!1),{currentAvailability:U,progress:K,beginDownload:z,clearDownload:F}=N(e);((e,t)=>{const a=(0,h.r)(),n=(0,l.useRef)(!1);(0,l.useEffect)((()=>{e===u.V8.DOWNLOADING&&!1===n.current&&(n.current=!0,a.say(b.ag.get("download.downloading",t.totalItems)))}),[a,e,t]);const r=(0,v.D)(e);(0,l.useEffect)((()=>{r===u.V8.DOWNLOADING&&e===u.V8.YES&&(n.current=!1,a.say(b.ag.get("download.complete")))}),[a,r,e])})(U,K);const G=(0,l.useCallback)((e=>{I===u.v$.DOWNLOADING_NOT_ALLOWED?M(!0):!1===t?(a(),_(!0)):z(),R(e),x(e)}),[z,I,t,R,a]),Q=(0,l.useCallback)((e=>{F(),x(e),R(e)}),[F,R]);return(0,l.useEffect)((()=>{!0===O&&!0===t&&(z(),_(!1))}),[t,O,z]),P===u.PQ.NO_DOWNLOAD_CAPABILITY?null:I===u.v$.DOWNLOADING_NOT_ALLOWED?n().createElement("div",{className:p},n().createElement(S.w,{label:b.ag.get("download.download")},n().createElement("button",{className:d()(E,m),role:"switch",onClick:G,"aria-label":b.ag.get("download.download"),"aria-checked":!1},n().createElement(s.a,{iconSize:r}))),B&&n().createElement("div",{className:w},n().createElement(D.E,{withTopLeftPointer:!0,horizontal:!0,onClose:()=>{M(!1)}},b.ag.get("download.upsell")))):U===u.V8.YES?n().createElement(S.w,{label:b.ag.get("download.remove")},n().createElement("button",{className:d()(E,m,y),role:"switch",onClick:Q,"aria-label":b.ag.get("download.remove"),"aria-checked":!0},n().createElement(i.C,{iconSize:r}))):U===u.V8.NO?n().createElement(S.w,{label:b.ag.get("download.download")},n().createElement("button",{className:d()(E,m),role:"switch",onClick:G,"aria-label":b.ag.get("download.download"),"aria-checked":!1},n().createElement(s.a,{iconSize:r}))):n().createElement("div",{className:d()(C,m),role:"switch","aria-checked":!0},n().createElement(S.w,{label:b.ag.get("download.cancel")},n().createElement("button",{style:L,className:d()(E,g,m),onClick:Q,"aria-label":b.ag.get("download.cancel")})),n().createElement("span",{style:L,className:d()(f,g)},n().createElement(k.e,{"aria-valuetext":b.ag.get("progress.downloading-tracks"),percentage:K.percentage,size:r})))}},55546:(e,t,a)=>{a.r(t),a.d(t,{LikedSongs:()=>M,LikedSongsContainer:()=>U,default:()=>K,likedSongscolumns:()=>B});var l=a(67294),n=a.n(l),r=a(61202),o=a(30947),s=a(55911),i=a(20657),c=a(45342),u=a(4236),m=a(1169),d=a(90110),g=a(19565),p=a(42273),E=a(28248),y=a(59482),C=a(72907),f=a(61048);const w=()=>n().createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47 18.538L48 16.806L31.478 7.26801V42.327C29.826 40.299 27.313 39 24.5 39C19.538 39 15.5 43.038 15.5 48C15.5 52.963 19.538 57 24.5 57C29.27 57 33.175 53.266 33.471 48.569L33.478 48.433C33.485 48.288 33.485 47.711 33.478 47.566V10.732L47 18.538ZM31.478 48.434C31.252 52.091 28.213 55 24.5 55C20.64 55 17.5 51.86 17.5 48C17.5 44.141 20.64 41 24.5 41C28.213 41 31.252 43.909 31.478 47.566V48.434Z",fill:"currentColor"}));var k=a(1663),b=a(71927),v=a(2751),h=a(37338),D=a(55120),S=a(22423),T=a(78462),x=a(53646),R=a(32129),L=a(30520),N=a(84242),A=a(49955),O=a(7692),_=a(92510);var P=a(14893),I=a(70369);const B=[E.QD.INDEX,E.QD.TITLE,E.QD.ALBUM,E.QD.ADDED_AT,E.QD.DURATION],M=({metadata:e,canFilter:t,canSort:a})=>{const{uri:c,name:E,images:P,totalLength:M,owner:U}=e,{filterBoxApiRef:K,filterBoxDomRef:z,tracklistDomRef:F,handleKeyDown:G}=(0,m.Q)(),Q=(0,u.k)()&&M>0,V=M>0,W=(0,l.useMemo)((()=>({id:U.username,uri:U.uri,name:U.username,displayName:U.displayName||void 0,images:U.images||[]})),[U]),X=(0,x.Y5)("#5038a0"),{filter:q}=(0,l.useContext)(S.fo),{sortState:Y}=(0,l.useContext)(T.Gb),Z=(0,r.k6)(),J="POP"!==Z.action?new URLSearchParams(Z.location.search).get("uri"):null,{isPlaying:j,togglePlay:H,usePlayContextItem:$}=(0,N.n)(function(e,t,a){const l={uri:e};return(0,A.R4)(l,t),(0,O.IC)(l,(0,_.cj)(a)),l}(c,(0,L.w)(Y),q),{featureIdentifier:"your_library",referrerIdentifier:"your_library"}),ee=()=>H();return n().createElement("section",{role:"presentation",className:v.Z.playlist,"data-testid":"playlist-page",onKeyDown:G},n().createElement(I.$,null,i.ag.get("playlist.page-title",E)),n().createElement(p.gF,{backgroundColor:X},n().createElement(y.W,null,n().createElement(D.$,{size:s.qE.sm,onClick:ee,isPlaying:j,uri:c,ariaPauseLabel:i.ag.get("liked-songs.a11y.pause",E),ariaPlayLabel:i.ag.get("playlist.a11y.play",E)}),n().createElement(C.i,{text:E})),n().createElement("div",{className:v.Z.playlistImageContainer},n().createElement(h.T,{canEdit:!1,name:E,images:P,onClick:()=>{},placeholderType:"playlist"})),n().createElement(p.sP,null,n().createElement(p.dy,{small:!0,uppercase:!0},i.ag.get("playlist")),n().createElement(p.xd,{canEdit:!1,onClick:()=>{}},E),n().createElement(p.QS,{creators:[W],totalTracks:M}))),n().createElement(o.o,{backgroundColor:X},n().createElement(o.F,null,V?n().createElement(D.$,{onClick:ee,isPlaying:j,size:s.qE.lg,uri:c,ariaPauseLabel:i.ag.get("liked-songs.a11y.pause",E),ariaPlayLabel:i.ag.get("playlist.a11y.play",E)}):null,Q?n().createElement(d.o,{uri:c,isFollowing:!0,onFollow:()=>{},size:d.q.md}):null,t&&a&&n().createElement("div",{className:v.Z.searchBoxContainer},n().createElement(l.Suspense,{fallback:null},n().createElement(f.K,{placeholder:i.ag.get("playlist.search_in_playlist"),filterBoxApiRef:K,outerRef:z})),n().createElement(R.c,{columns:T.P0})))),n().createElement("div",{className:"contentSpacing"},M>0?n().createElement(l.Suspense,{fallback:n().createElement(k.h,{errorMessage:i.ag.get("error.request-collection-tracks-failure")})},n().createElement(b.p,{nrTracks:M,columns:B,collectionUri:c,scrollToUri:J,usePlayContextItem:$,outerDomRef:F})):n().createElement(g.u,{message:i.ag.get("collection.empty-page.songs-subtitle"),title:i.ag.get("collection.empty-page.songs-title"),linkTo:"/search",linkTitle:i.ag.get("collection.empty-page.songs-cta"),renderInline:!0},n().createElement(w,null))))},U=n().memo((()=>{const e=(0,P.b)(),t=(0,l.useContext)(c.H).getCapabilities();return e?n().createElement(T.kz,{uri:e.uri},n().createElement(S.hz,{uri:e.uri},n().createElement(M,{metadata:e,canFilter:t.canFilter&&e.totalLength>0,canSort:t.canSort&&e.totalLength>0}))):n().createElement(k.h,{errorMessage:i.ag.get("error.not_found.title.playlist"),loadOffline:t.canModifyOffline})})),K=U},70369:(e,t,a)=>{a.d(t,{$:()=>l.$});var l=a(22578)},37338:(e,t,a)=>{a.d(t,{T:()=>d});var l=a(67294),n=a.n(l),r=a(25678),o=a(42273),s=a(33732),i=a(22023),c=a(15212);const u="Ws8Ec3GREpT5PAUesr9b",m="kHu_FTRgoBLSLeAJtyKY",d=function({onClick:e,name:t,images:a,canEdit:l,placeholderType:d,shape:g=o.Kc.SQUARE,dragUri:p=""}){const[E,y]=(0,s.RH)(a),C=(0,r.VO)(E,y)===r.KO.loaded,f=(0,c.O1)([p],t);return n().createElement("div",{className:u,"data-testid":`${d}-image`,draggable:!!p,onDragStart:f},n().createElement(o.Oe,{loading:"eager",name:t,images:a,placeholderType:d,shape:g}),l&&n().createElement("div",{className:m},n().createElement(i.F,{overlay:C,onClick:e,rounded:g===o.Kc.CIRCLE})))}},71927:(e,t,a)=>{a.d(t,{p:()=>C});var l=a(67294),n=a.n(l),r=a(28248),o=a(42922),s=a(49961),i=a(20657),c=a(36132),u=a(30520),m=a(22423),d=a(78462),g=a(45342),p=a(35308);const E=new Set(d.P0),y=new Set([]),C=n().memo((({nrTracks:e,collectionUri:t,columns:a,uri:C,sortable:f=!0,scrollToUri:w,usePlayContextItem:k,outerDomRef:b})=>{const v=(0,l.useContext)(g.H),h=(0,l.useRef)(null),[D,S]=(0,l.useState)(e),{filter:T}=(0,l.useContext)(m.fo),x=(0,l.useRef)((()=>{})),[R,L]=(0,l.useState)([]),{sortState:N,setSortState:A}=(0,l.useContext)(d.Gb),O=(0,l.useCallback)((e=>{A((0,c.VK)(e,N))}),[A,N]);(0,l.useEffect)((()=>{h.current&&h.current.update()}),[N,T]),(0,l.useEffect)((()=>{h.current&&""===T&&h.current.scrollToFirstSelected()}),[T,D]),(0,l.useEffect)((()=>{S(e)}),[e]),(0,l.useEffect)((()=>{h.current&&w&&h.current.scrollToItem({uri:w})}),[w]);const _=(0,l.useCallback)((e=>{const t=e.map((e=>e.uri));x.current(),null==v||v.remove(...t)}),[v]),P=(0,l.useCallback)(((e,t)=>{x.current=t,e.length>1?L(e):_(e)}),[_]),I=(0,l.useCallback)((async(e,t)=>{const a=await(null==v?void 0:v.getTracks({offset:e,limit:t,uri:C,sort:(0,u.w)(N),filter:T})),l=null==a?void 0:a.totalLength,n=(null==a?void 0:a.items)||[];return"number"==typeof l&&l!==D&&S(l),n}),[T,v,D,N,C]),B=(0,l.useCallback)(((e,a)=>{var l;const o=(0,s.X)(null===(l=e.album)||void 0===l?void 0:l.images,{desiredSize:40,desiredLabel:"small"});return n().createElement(r.dx,{key:a+e.uri,index:a,contextUri:t,uri:e.uri,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,albumOrShow:e.album,isExplicit:e.isExplicit,isCollaborative:!1,isMixedMedia:!1,isPaywalled:!1,isUserSubscribed:!1,isLocal:e.isLocal,addedBy:[],dateAdded:e.addedAt,hasDecoratedAddedBy:!1,release_date:"",isMOGEFRestricted:e.is19PlusOnly,type:e.type,imgUrl:(null==o?void 0:o.url)||"",onMove:()=>{},onInsert:()=>{},usePlayContextItem:k,allowedDropTypes:[],isDisliked:!1,playlistName:""})}),[t,k]);return n().createElement(n().Fragment,null,n().createElement(o.ZP,{value:"liked-songs-tracklist"},n().createElement(r.Pv,{ariaLabel:i.ag.get("sidebar.liked_songs"),key:t,hasHeaderRow:!0,columns:a,sortableColumns:null!=v&&v.getCapabilities().canSort&&f?E:y,sortState:N,onSort:O,renderRow:B,resolveUri:e=>e.uri,resolveUid:e=>e.uri,onRemove:P,nrTracks:D,fetchTracks:I,limit:50,canFetchAllTracks:null==v?void 0:v.getCapabilities().canFetchAllTracks,outerRef:h,outerDomRef:b})),n().createElement(p.h,{title:i.ag.get("remove_from_your_liked_songs"),isOpen:R.length>0,tracks:R,onClose:e=>{e.stopPropagation(),L([])},onRemove:_}))}))},32129:(e,t,a)=>{a.d(t,{c:()=>m});var l=a(67294),n=a.n(l),r=a(28248),o=a(78462),s=a(36132),i=a(95289),c=a(5292);function u(e){return!!e}const m=({columns:e})=>{const t=[...e];t.splice(2,0,r.QD.ARTIST);const{sortState:a,setSortState:m}=(0,l.useContext)(o.Gb),d=function(e){return null===e.column?c.mE[r.QD.INDEX]:(0,s.cB)(e.column,e.order)?c.mE[r.QD.ARTIST]:c.mE[e.column]}(a),g=(0,l.useCallback)((e=>{m((0,c.WQ)(e,a.column,a.order))}),[m,a.column,a.order]),p=(0,l.useCallback)((()=>null!==a.column),[a.column]),E=t.map((e=>c.mE[e])).filter(u);return n().createElement(i.A,{options:E,onSelect:g,selected:d,isSelectionChanged:p,sortOrder:a.order})}},35308:(e,t,a)=>{a.d(t,{h:()=>p});var l=a(67294),n=a.n(l),r=a(20657);const o="J0xJcBaKhwl9EIuzvhLg",s="ce3qMCnc2kDVSi7k74fh",i="tlBLfMv0fCxd31jPTQhL",c="AytCc2WKUld6N212Pcpu",u="Uw9aTbBCa7QzSsZSGAG5";var m=a(85105),d=a(16229),g=a(76343);const p=n().memo((({onClose:e,onRemove:t,isOpen:a,tracks:p,title:E})=>{const y=(0,l.useCallback)((a=>{t(p),e(a)}),[t,e,p]);return n().createElement(m.Z,{shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:e,contentLabel:E,isOpen:a},n().createElement("div",{className:o},n().createElement(g.Dy,{as:"h2",variant:g.Dy.cello,className:s},E),n().createElement(g.Dy,{as:"p",variant:g.Dy.mesto,className:i},r.ag.get("playlist.remove_multiple_description")),n().createElement("div",{className:c},n().createElement(d.Y,{className:u,version:"tertiary",onClick:e},r.ag.get("playlist.delete-cancel")),n().createElement(d.Y,{version:"primary",onClick:y},r.ag.get("remove")))))}))},1169:(e,t,a)=>{a.d(t,{Q:()=>n});var l=a(67294);const n=()=>{const e=(0,l.useRef)(null),t=(0,l.useRef)(null),a=(0,l.useRef)(null);return{filterBoxApiRef:e,filterBoxDomRef:t,tracklistDomRef:a,handleKeyDown:l=>{var n,r,o;"Escape"===l.key&&((null!==(n=t.current)&&void 0!==n&&n.contains(l.target)||null!==(r=a.current)&&void 0!==r&&r.contains(l.target))&&(null===(o=e.current)||void 0===o||o.clearFilter()))}}}},30520:(e,t,a)=>{a.d(t,{w:()=>s});var l=a(36132),n=a(59916),r=a(74483);const o={[n.bD.ADDED_AT]:r._1.ADDED_AT,[n.bD.ADDED_BY]:null,[n.bD.ALBUM]:r._1.ALBUM_NAME,[n.bD.ARTIST]:r._1.ARTIST_NAME,[n.bD.DURATION]:null,[n.bD.TITLE]:r._1.NAME},s=e=>{const t=(0,l._j)(e);if(!t)return;const a=o[t.field],n=t.order;return a&&n?{field:a,order:n}:void 0}},40080:(e,t,a)=>{a.d(t,{D:()=>n});var l=a(67294);function n(e){const t=(0,l.useRef)();return(0,l.useEffect)((()=>{t.current=e}),[e]),t.current}},2751:(e,t,a)=>{a.d(t,{Z:()=>l});const l={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",playlist:"dZ3U5sTGUTdanNamXe1z",searchBoxContainer:"KodyK77Gzjb8NqPGpcgw",recommendedTrackList:"kwe0I8sSNMv3gYBjkRYP",playlistContent:"rezqw3Q4OEPB1m4rmwfw",playlistDescription:"fUYMR7LuRXv0KJWFvRZA",top:"PZkwbwJD1afoCmJkGt8w",header:"yP3JLuwUNDIQHxRFilK3",subtitle:"NCKSUYdZaTMrobq8ilkc",refreshButton:"QmGi2oa43BTcEZ5MCr9T",playlistImageContainer:"oq1ci28WPaRsWkvRiB_J",playlistInlineCurationSection:"Ykd_JWqkR9gSLHISDBwP",playlistInlineCurationWrapper:"g9xHCCSXDR8S5NvTbfwL",playlistInlineCurationTitle:"SMJIXlalPk_TESlyt2pC",playlistInlineCurationCloseButton:"FC40AOSbVM9LXjVi7bjO",playlistInlineCurationBackButton:"hVcUafGrnsA6nD1dJzc5",artistResultListTitle:"rARdlCShKVQsvuXamFOX",seeMore:"STDuzt77yRCueC4Ohenl",emptyStateContainer:"Bl_kg24BjWgcXPokgEKy",searchResultListContainer:"sAPXlA_oxu_8x1Cn0NTC",emptySearchTermContainer:"_Z2TnFjt8GB5ryOtvyti",icon:"tzeKawjOOKFw1KfQ34mG"}}}]);
//# sourceMappingURL=xpui-routes-collection-songs.js.map