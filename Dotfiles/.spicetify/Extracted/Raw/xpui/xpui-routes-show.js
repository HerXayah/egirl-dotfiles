"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[713],{28137:(e,t,a)=>{a.d(t,{X:()=>m});var n=a(67294),r=a.n(n),l=a(20657),i=a(30005),o=a(57612),s=a(42922),c=a(21366);const m=r().memo((({uri:e,sharingInfo:t})=>r().createElement(s.ZP,{value:"show"},r().createElement(i.v,null,r().createElement(o.xM,{uri:e}),r().createElement(c.q,null,r().createElement(o.Jx,{uri:e,sharingInfo:t,displayText:l.ag.get("context-menu.copy-show-link")}),r().createElement(o.W2,{uri:e})),r().createElement(o.h$,{divider:"before",uri:e})))))},25927:(e,t,a)=>{a.r(t),a.d(t,{Show:()=>Ot,default:()=>Rt});var n=a(67294),r=a.n(n),l=a(82772),i=a(61202),o=a(20657),s=a(94233),c=a(14535),m=a(56802),u=a(4236),d=a(1663),E=a(20238),g=a(76343),y=a(59713),p=a.n(y),v=a(42922),b=a(65858),h=a(15212),f=a(7073),k=a(21127),C=a(84788),S=a(87257),P=a(57978),w=a(75016),N=a(72917),A=a(69518),D=a.n(A),x=a(62975),I=a(18261),O=a(25988),R=a(38894),z=a(37630),U=a(95661),L=a(20246),M=a(95806),T=a(68107),Z=a(52759),F=a(84629);function B(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const G=r().memo((({index:e,showMetadata:t,episode:a,usePlayContextItem:l})=>{var i,s,c,u,d,E,g,y;const p=null===(i=(0,b.oR)().getState().platform)||void 0===i?void 0:i.isBrowser,A=a.playedState.playPositionMilliseconds,G=a.uri,W=(0,n.useRef)(null),[$,_]=(0,n.useState)(a.playedState.state===f.sY.Completed),j=(0,h.O1)(),X=(0,R.g)(),q=(0,z.jh)(),Y=(0,m.o)(),H=(0,b.I0)(),{isActive:K,isPlaying:V,togglePlay:Q}=l({uri:G}),[J]=(0,Z.z)(1e4,(e=>{var t;return(null==e||null===(t=e.item)||void 0===t?void 0:t.uri)===G}));(0,n.useEffect)((()=>{V&&(W.current=J)}),[V,J]),(0,n.useEffect)((()=>{!V&&W.current&&a.duration.milliseconds<=W.current&&_(!0)}),[V,a.duration.milliseconds]);const ee=(0,n.useCallback)((e=>{e||(W.current=0),_(e)}),[]),te=B(t),ae=(0,T.s)(a,te),ne=(0,n.useCallback)((()=>{a.episodeType===f.Wf.Episode&&p?x.y.set((()=>({triggerId:`activation-trigger-mme${a.uri}`,triggerAction:null}))):X?ae():(Y({targetUri:G,intent:V?"pause":"play",type:"click"}),Q())}),[ae,Y,Q,G,V,X,a,p]),re=(0,n.useCallback)((()=>{Y({type:"click",targetUri:G,intent:"navigate"})}),[G,Y]),le=null!==(s=null===(c=a.podcastSubscription)||void 0===c?void 0:c.isPaywalled)&&void 0!==s&&s,ie=null!==(u=null===(d=a.podcastSubscription)||void 0===d?void 0:d.isUserSubscribed)&&void 0!==u&&u,oe=le&&!ie,se=le&&X,{badges:ce}=(0,C.r)({contentRating:null===(E=a.contentRating)||void 0===E?void 0:E.label,isPaywalled:le}),me=(0,n.useCallback)((()=>H((0,F.RM)(t.uri))),[t.uri,H]),ue=(0,n.useCallback)((e=>{let n=e;return(oe||se)&&(n=r().createElement(M.l,{enabled:!0,showUri:t.uri},n)),!a.playability.playable&&ce.nineteen&&(n=r().createElement("div",{onClick:e=>{e.stopPropagation(),me()}},e)),n=r().createElement(N.c,{id:`activation-trigger-mme-${G}`,targetURI:D().from(G)},n),n}),[G,oe,se,t.uri,ce.nineteen,a.playability.playable,me]);return r().createElement(v.ZP,{value:"row",index:e},r().createElement(I._,{menu:r().createElement(O.k,{uri:G,showUri:t.uri,sharingInfo:a.sharingInfo,isPlayed:$,onMarkAsPlayed:ee})},r().createElement(k.X,{index:e,uri:G,size:q,images:a.coverArt||[],name:a.name,showName:t.name,description:a.description,isPlayable:a.playability.playable||oe,fullyPlayed:$,durationMs:a.duration.milliseconds,releaseDate:(null===(g=a.releaseDate)||void 0===g?void 0:g.isoString)||"",resumePositionMs:null!==(y=W.current)&&void 0!==y?y:A,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const n=`${a.name} Â· ${t.name}`;j(e,[G],n,t.uri)},handlePlaybackClick:ne,handleClick:re,isCurrentlyPlaying:K,isPaywalled:le,isUserSubscribed:ie,isPlaying:V,position:V?J:void 0,episodeSharingInfo:a.sharingInfo,onMarkAsPlayed:ee,badges:r().createElement(r().Fragment,null,ce.explicit&&r().createElement(S.N,null),ce.paid&&r().createElement(w.g,null),ce.nineteen&&r().createElement(P.X,{size:16})),playButtonWrapper:ue,topActionButtons:r().createElement(L.y,{menu:r().createElement(O.k,{uri:G,showUri:t.uri,sharingInfo:a.sharingInfo,isPlayed:$,onMarkAsPlayed:ee})},r().createElement(U.z,{size:U.q.sm,label:o.ag.get("more.label.context",a.name)}))})))}));var W=a(27999),$=a(33241);const _="Y_WW1akjiQKXSzCBalCD",j="NuwyWYpV2HzQDzNBFiaU";var X=a(22583),q=a(26382);const Y={field:q.ay.PUBLISH_DATE,order:q.i5.DESC},H={field:q.ay.PUBLISH_DATE,order:q.i5.ASC},K={field:q.ay.LENGTH,order:q.i5.DESC},V={field:q.ay.LENGTH,order:q.i5.ASC},Q={episodic:Y,sequential:H,recent:Y};function J(e){return Q[e]}const ee=(0,n.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a ShowSortProvider")},sortState:J("recent")}),te=r().memo((function({uri:e,children:t,defaultSortParam:a}){return r().createElement(X.r,{uri:e,defaultState:a,sortContext:ee,localStorageKey:"showSortParam"},t)})),ae=(0,n.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a ShowFilterProvider")},sortState:[]}),ne=r().memo((function({uri:e,children:t}){return r().createElement(X.r,{uri:e,defaultState:[],sortContext:ae,localStorageKey:"showFilterParams-v2"},t)}));function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(Object(a),!0).forEach((function(t){p()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const ie={totalCount:0,nextOffset:0,items:[]},oe=r().memo((({showMetadata:e,usePlayContextItem:t})=>{const{sortState:a}=(0,n.useContext)(ee),{sortState:l}=(0,n.useContext)(ae),i=(0,W.ZM)(e.uri,a,l),[o,s]=(0,n.useState)(ie),c=(0,n.useRef)(!1),m=(0,n.useRef)(0),{ref:u,breakpoint:d}=(0,z.Db)({[z.Uo.MEDIUM]:0,[z.Uo.LARGE]:600}),E=(0,n.useCallback)(((e=!1)=>{if(!i)return;const t=m.current;null!==t&&(c.current||(c.current=!0,i(t,50).then((a=>{s((n=>{const r=e?[]:[...n.items];return r.splice(t,a.items.length,...a.items),m.current=a.nextOffset,le(le({},a),{},{items:r})})),c.current=!1}))))}),[i]);return(0,n.useEffect)((()=>{s(ie)}),[e.uri]),(0,n.useEffect)((()=>{m.current=0,E(!0)}),[E]),r().createElement(z.ZU.Provider,{value:d},r().createElement(v.ZP,{value:"track-list"},r().createElement("div",{ref:u},r().createElement($.C,{onReachBottom:E,triggerOnInitialLoad:!0},o.items.map(((a,n)=>r().createElement("div",{className:j,key:`${n}${a.uri}`},r().createElement("hr",{className:_,"aria-hidden":!0}),r().createElement(G,{key:`${a.uri}/${n}`,index:n,episode:a,showMetadata:e,usePlayContextItem:t}))))))))}));var se=a(44887),ce=a(7469),me=a(42781);const ue={container:"SpVoh9vvBN0kIwzfCiBh",isActive:"nsGHaEmn310z9W4RMbb8",title:"PfYVlZzroXSurDmS_kxY",main:"kCT99_BcJQtW47mEfVF6",titleContainer:"gmDgEbPyRXNixmjYAT9f",duration:"itbbweiDUhLIrwEjSRWv",trailerContainer:"XlZGcb86bItwlMPQ2jOf",image:"VGTtqfOlX2jIbpff6mPP",imageContainer:"aexqooSgfdW95poEaxjH",playButton:"Fui2wGupk4F1Khigbrhj",entityImageLarge:"jWcvSz47NFpbLjnkFT1O",entityImageSmall:"Oo6MP8F01W5uGlnw8dag"};var de=a(55911),Ee=a(94184),ge=a.n(Ee),ye=a(6695),pe=a(95775),ve=a(46245);let be;!function(e){e.SMALL="small",e.LARGE="large"}(be||(be={}));const he=({images:e,title:t,contentRating:a,duration:n,moreButton:l,onClick:i,onContextMenu:o,onTouchStart:s,onTouchEnd:c,isPlaying:m,isActive:u,size:d,className:E,enableEncoreWebMigration:y,label:p})=>{const v=d===be.LARGE?de.qE.md:de.qE.sm,b=d===be.LARGE?"md":"sm",{badges:h}=(0,C.r)({contentRating:a});return r().createElement("div",{"data-testid":"trailer-component",className:ge()(ue.container,E,{[ue.isActive]:u}),onContextMenu:o,onTouchStart:s,onTouchEnd:c},r().createElement("div",{className:ue.main},r().createElement("div",{className:ue.imageContainer},r().createElement(se.O,{type:me.p.EPISODE,title:t,className:ge()(ue.image,{[ue.entityImageSmall]:d===be.SMALL,[ue.entityImageLarge]:d===be.LARGE}),size:ce.m$.SIZE_56,images:e,shape:se.K.ROUNDED_CORNERS}),r().createElement("div",{className:ue.playButton},y?r().createElement(ve.fh,{"data-testid":"trailer-play-button",version:de.ul.transparent,size:b,isPlaying:m,onClick:i}):r().createElement(de.JM,{"data-testid":"trailer-play-button",version:de.ul.transparent,size:v,isPlaying:m,onClick:i}))),r().createElement("div",{className:ue.metadata},r().createElement("div",{className:ue.titleContainer},r().createElement(g.Dy,{dir:"auto",className:ue.title,variant:g.$e.balladBold},t)),r().createElement("div",{className:ue.trailerContainer},r().createElement(pe.V,{text:p}),h.explicit&&r().createElement(S.N,null),h.nineteen&&r().createElement(P.X,null),r().createElement(g.Dy,{dir:"auto",variant:g.$e.mesto},r().createElement(ye.nL,{durationMs:n}))))),l)};var fe=a(86514),ke=a(43620),Ce=a(95289);const Se=()=>{const{sortState:e,setSortState:t}=(0,n.useContext)(ee),a=new Map([[Y,{key:"newest-to-oldest",value:o.ag.get("shows.sort.newest-to-oldest")}],[H,{key:"oldest-to-newest",value:o.ag.get("shows.sort.oldest-to-newest")}],[K,{key:"longest-to-shortest",value:o.ag.get("shows.sort.longest-to-shortest")}],[V,{key:"shortest-to-longest",value:o.ag.get("shows.sort.shortest-to-longest")}]]),l=Array.from(a.values()),i=Array.from(a.keys()),s=(0,n.useCallback)((e=>{const n=i.find((t=>{var n;return(null===(n=a.get(t))||void 0===n?void 0:n.key)===e}));n&&t(n)}),[i,a,t]);if(!a.size||!e)return null;const c=Array.from(a.keys()).find((t=>t.field===e.field&&t.order===e.order)),m=a.get(c);return r().createElement(Ce.A,{options:l,onSelect:e=>s(e),selected:m})};var Pe=a(98778),we=a(17231),Ne=a(44503),Ae=a(67892),De=a(84242),xe=a(99995),Ie=a(4383),Oe=a(70369);const Re="nLNTsyonBwoRIzAv1AME",ze="E4I5I7G2CfW32hLWZaqE";var Ue=a(92851);const Le=({title:e,uri:t,className:a})=>{const n=(0,Ue.$)(t);return r().createElement(Ae.r,{"aria-label":e,className:ge()(ze,a),to:n},r().createElement(g.Dy,{dir:"auto",variant:g.$e.mestoBold},e))};function Me(e){return!!e.uri&&!!e.title}const Te=({topics:e,className:t})=>r().createElement("div",{className:ge()(Re,t)},e.filter(Me).map((e=>r().createElement(Le,{key:e.uri,title:e.title,uri:e.uri})))),Ze={field:q.YG.ISPLAYED,operator:q.NK.EQUALS,value:!1},Fe={field:q.YG.STARTEDPLAYING,operator:q.NK.GREATER_THAN,value:0};const Be="all-episodes",Ge=()=>{const{sortState:e,setSortState:t}=(0,n.useContext)(ae),a=new Map([[Ze,{key:"is-played",value:o.ag.get("shows.filter.unplayed")}],[Fe,{key:"started-playing",value:o.ag.get("shows.filter.in-progress")}]]),l=Array.from(a.values());l.unshift({key:Be,value:o.ag.get("mwp.podcast.all.episodes")});const i=Array.from(a.keys()),s=(0,n.useCallback)((e=>{if(e===Be)t([]);else{const n=i.find((t=>{var n;return(null===(n=a.get(t))||void 0===n?void 0:n.key)===e}));n&&t([n])}}),[t,i,a]);if(!a.size||!i)return null;let c=l[0];const m=Array.from(a.entries()).filter((t=>null==e?void 0:e.some((e=>e.field===t[0].field&&e.operator===t[0].operator))));return m.length>0&&(c=m[0][1]),r().createElement(Ce.A,{options:l,onSelect:e=>s(e),selected:c,variant:g.Dy.balladBold,color:"var(--spice-text)"})};var We=a(42273),$e=a(30947),_e=a(59482),je=a(72907),Xe=a(51775);const qe=(0,n.lazy)((()=>a.e(381).then(a.bind(a,18381))));function Ye(e){return(0,we.W6)(Ne.$f)?r().createElement(n.Suspense,{fallback:!0},r().createElement(qe,e)):null}var He=a(86649);const Ke={sectionTitle:"igKG5CnS4gyhXQWp5GVu",author:"E8g_EyijtSREXL0vMFbL",narrator:"Pc8AKn4KmzHwEw8lPiSb",topics:"yE1clVJOE3LrEuOvUxxq"},Ve=({authorName:e,htmlDescription:t})=>{const a=(0,m.o)(),l=(0,n.useCallback)((()=>{a({intent:"expand-description",type:"click"})}),[a]);return r().createElement(r().Fragment,null,r().createElement(g.Dy,{as:"h3",variant:g.$e.canon,color:"var(--spice-text)",className:Ke.sectionTitle},o.ag.get("artist.about")),r().createElement(g.Dy,{as:"p",variant:g.$e.ballad,className:Ke.author},"By: ",e),r().createElement(g.Dy,{as:"p",variant:g.$e.ballad,className:Ke.narrator},"Narrated by: Example Author"),r().createElement(Te,{topics:[{title:"Education",uri:"spotify:genre:educational_podcasts"}],className:Ke.topics}),r().createElement(E.o,{maxLines:4,content:"The first book from Ruth Bader Ginsberg since becoming a Supreme Court Justice in 1993 - a witty, engaging, serious, and playful collection of writings.",htmlContent:t||void 0,LinkComponent:Ae.Z,onExpanded:l,className:Ke.description}))};var Qe=a(55120),Je=a(32626),et=a(28137);const tt=r().memo((({coverArt:e,name:t,authorName:a,uri:n,backgroundColor:l,isPlaying:i,togglePlay:o})=>r().createElement(We.gF,{backgroundColor:l},r().createElement(_e.W,null,r().createElement(Qe.$,{size:de.qE.sm,onClick:o,isPlaying:i,uri:n}),r().createElement(je.i,{text:t,dragUri:n,dragLabel:t})),r().createElement(Je._P,{menu:r().createElement(et.X,{uri:n})},r().createElement(We.Oz,{images:e,name:t,shape:se.K.ROUNDED_CORNERS})),r().createElement(We.sP,null,r().createElement(We.dy,{small:!0,uppercase:!0},"Audiobook"),r().createElement(We.xd,{canEdit:!1,onClick:()=>{}},t),r().createElement(We.QS,{author:a}))))),at=r().memo((({backgroundColor:e,uri:t,isPlaying:a,togglePlay:l})=>{const[i,s]=(0,Ie.Z)(t),d=!(0,u.k)(),E=(0,m.o)(),g=(0,n.useCallback)((()=>{E({targetUri:t,intent:i?"unsave":"save",type:"click"}),s(!i)}),[E,t,i,s]);return r().createElement($e.o,{backgroundColor:e},r().createElement($e.F,null,r().createElement(Qe.$,{onClick:()=>l(),isPlaying:a,size:de.qE.lg,uri:t}),r().createElement(Pe.r,{key:"follow-button"},r().createElement(c.e,{isFollowing:i,onClick:g,disabled:d,buttonText:i?o.ag.get("saved"):o.ag.get("save")}))))})),nt="BO8KtKFwgSHtMt6PAmuv",rt="b0Vng72SrQiFroJKXfk2",lt="eWxDd0LanTnTlSl8SOHX",it="eAOkseqV13_CAmzuDJpa",ot="we_1b4qCQBaFPT12eUXp",st="NXXFrQO7npgPCRuSKaAA",ct="oDb15FzGzxSKGqFm1fLn",mt="im6PrHSf4jnV6qMytYyI",ut="zd6xqobF255bxHFtCmXy",dt="OOMOo6ooykmNuTrXpNNQ",Et="gWlIrU5No7kzalZZq3er";var gt=a(73012),yt=a(31610),pt=a(24656),vt=a(69010);const bt=r().memo((({name:e,duration:t,uri:a,bookUri:l,bookName:s,usePlayContextItem:c,isLocked:m})=>{const u=(0,i.k6)(),d=D().from(a).toURLPath(!0),{isPlaying:E,togglePlay:y}=c({uri:a}),{useDownloading:p}=(0,n.useContext)(pt.I),{currentAvailability:v}=p(a),b=[vt.V8.YES,vt.V8.DOWNLOADING,vt.V8.WAITING].includes(v),h=(0,n.useCallback)((e=>{e.stopPropagation(),e.preventDefault()}),[]),f=(0,n.useCallback)((e=>{h(e),d&&u.push(d)}),[h,d,u]),k=(0,n.useCallback)((e=>{h(e),y()}),[h,y]);return r().createElement("div",{className:it},r().createElement(Ae.r,{to:a,onClick:f,className:nt},r().createElement("hr",{className:lt,"aria-hidden":!0}),r().createElement("div",{className:rt},r().createElement(g.Dy,{as:"h2",variant:g.Dy.balladBold,className:st,color:gt.ixZ},e),r().createElement("div",{className:ct},r().createElement("div",{className:mt},r().createElement(ve.fh,{size:"sm",version:ve.ul.secondary,onClick:k,isPlaying:E,ariaPlayLabel:o.ag.get("tracklist.a11y.play",e,s),ariaPauseLabel:o.ag.get("tracklist.a11y.pause",e,s),locked:m}),m?r().createElement(w.g,null):null,r().createElement("div",{className:ut},r().createElement(g.Dy.p,{variant:g.$e.mesto,className:dt},"Nov 18"),r().createElement(g.Dy,{as:"p",variant:g.$e.mesto,className:Et},o.ag.get("episode.length",Math.floor(t.milliseconds/6e4))))),r().createElement(yt.o,{uri:a,bookUri:l,className:ge()({[ot]:!b}),onClick:h,size:yt.q.sm})))))}));var ht=a(192);const ft="mmCZ5VczybT9VqKB5wFU",kt="At_ihDspJfh1yw3Cn2cq",Ct="q9WSh3pBJkL9Zyp8zyS7",St="eiC4nh70nb5UHZBYMgNA",Pt="qcUG6XxCBqe75bTAbGTY",wt="uU7tdAyRmWf_U95Daugm";var Nt=a(30005),At=a(57612);const Dt=r().memo((({uri:e,isPlayed:t=null,contextUri:a,uid:n,onMarkAsPlayed:l=(()=>{})})=>r().createElement(v.ZP,{value:"chapter"},r().createElement(Nt.v,null,r().createElement(At.x9,{uris:[e]}),n&&r().createElement(At.Qf,{uids:[n],uris:[e],contextUri:a}),r().createElement(At.pJ,{uri:e}),r().createElement(At.wy,{uri:e,contextUri:a}),null!==t&&r().createElement(At.Fg,{uri:e,isPlayed:t,onChange:l})))));var xt=a(8247);const It=r().memo((({metadata:e})=>{var t,a;const{uri:l,coverArt:i,name:s,htmlDescription:c,authorName:u,sample:d}=e,E=(0,ke.Z)(null===(t=i[0])||void 0===t?void 0:t.url),y=function(e){const t=(0,ht.z)(),[a,r]=(0,n.useState)(null);return(0,n.useEffect)((()=>{t.getBookContents(e).then((e=>{r(e)}))}),[t,e]),a}(l),p=(0,m.o)(),v=(0,we.W6)(xt.iY),{togglePlay:b,isPlaying:h,usePlayContextItem:f}=(0,De.n)({uri:l},{featureIdentifier:"audiobook"}),{isActive:k,isPlaying:C,togglePlay:S}=f({uri:(null==d?void 0:d.uri)||""}),P=(0,n.useCallback)((()=>{null!=d&&d.uri&&(p({targetUri:d.uri,intent:C?"play":"pause",type:"click"}),S())}),[C,p,S,null==d?void 0:d.uri]);return r().createElement("section",{className:ft},r().createElement(tt,{name:s,authorName:u,uri:l,coverArt:i,backgroundColor:E,togglePlay:b,isPlaying:h}),r().createElement(at,{backgroundColor:E,uri:l,togglePlay:b,isPlaying:h}),r().createElement("div",{className:kt},r().createElement("div",{className:St},r().createElement(g.Dy,{as:"h1",variant:g.Dy.canon,className:Pt},"Chapters"),r().createElement("ul",null,y&&y.map((e=>{const{name:t,duration:a,uri:n,playability:{playable:i}}=e;return r().createElement(bt,{name:t,duration:a,uri:n,bookUri:l,bookName:s,key:n,usePlayContextItem:f,isLocked:!i})})))),r().createElement("div",{className:Ct},r().createElement(Ve,{authorName:u,htmlDescription:c}),d&&r().createElement(he,{label:o.ag.get("sample"),className:wt,images:d.coverArt||[],title:d.name,duration:d.duration.milliseconds,moreButton:r().createElement(L.y,{menu:r().createElement(Dt,{uri:d.uri,showUri:l})},r().createElement(U.z,null)),onClick:P,isPlaying:C,isActive:k,size:be.LARGE,contentRating:null===(a=d.contentRating)||void 0===a?void 0:a.label,enableEncoreWebMigration:v}))))}));const Ot=({metadata:e,showId:t})=>{var a,i;const{uri:d,coverArt:y,name:p,trailer:v,topics:b,description:h,htmlDescription:f,podcastType:k,publisherName:C}=e,S=(0,m.o)(),P=(0,we.W6)(Ne.Cz),w=(0,we.W6)(Ne.iY),N=!(0,u.k)(),A=(0,R.g)(),[D,x]=(0,Ie.Z)(d),{canSort:z,canFilter:M}=(0,W.zZ)().capabilities,{sortState:Z}=(0,n.useContext)(ee),{sortState:F}=(0,n.useContext)(ae),G=(0,W.zZ)(),$=(0,ke.Z)((null===(a=y[0])||void 0===a?void 0:a.url)||null),{usePlayContextItem:_}=(0,De.n)({uri:d,metadata:{[xe.sb.SORTING_CRITERIA]:G.getPlayerSort(Z),[xe.sb.FILTERING_PREDICATE]:G.getPlayerFilter(F)}},{featureIdentifier:"show"}),{isActive:j,isPlaying:X,togglePlay:q}=_({uri:(null==v?void 0:v.uri)||""}),Y=(0,n.useCallback)((()=>{S({targetUri:d,intent:D?"unsave":"save",type:"click"}),x(!D)}),[S,d,D,x]),H=(0,n.useCallback)((()=>{S({intent:"expand-description",type:"click"})}),[S]),K=B(e),V=(0,T.s)(v,K),Q=(0,n.useCallback)((()=>{null!=v&&v.uri&&(A?V():(S({targetUri:v.uri,intent:X?"play":"pause",type:"click"}),q()))}),[V,A,X,S,q,null==v?void 0:v.uri]),{isXSOnly:J,isSMOnly:te}=(0,Xe.e)(),ne=J||te,re=b.length>0,le=h||P&&f,ie=le||re;return r().createElement("section",{className:l.Z.ShowPage},r().createElement(Oe.$,null,o.ag.get("podcasts.show.seo.title",{name:p})),r().createElement(We.gF,{backgroundColor:$},r().createElement(_e.W,null,r().createElement(je.i,{text:p,dragUri:d,dragLabel:p})),r().createElement("div",{className:l.Z.imageContainer},r().createElement(I._,{menu:r().createElement(fe.M,{uri:d})},r().createElement(We.Oe,{loading:"eager",name:p,images:y,placeholderType:"show",shape:We.Kc.ROUNDED_CORNERS}))),r().createElement(We.sP,null,r().createElement(We.dy,{small:!0,uppercase:!0},"SHOW"===k?o.ag.get("type.show"):o.ag.get("type.podcast")),r().createElement(I._,{menu:r().createElement(fe.M,{uri:d})},r().createElement(We.xd,{dragUri:d,dragLabel:p},r().createElement("span",{"data-testid":"show-title"},p))),r().createElement(We.dy,{large:!ne,medium:ne,bold:!0},C))),r().createElement($e.o,{backgroundColor:$},r().createElement($e.F,null,r().createElement(Pe.r,{key:"follow-button"},r().createElement(c.e,{isFollowing:D,onClick:Y,disabled:N})),r().createElement(L.y,{menu:r().createElement(fe.M,{uri:d})},r().createElement(U.z,{label:o.ag.get("more.label.context",p)})))),r().createElement("div",{className:l.Z.ShowContent},r().createElement("div",{className:l.Z.metadata},ie&&r().createElement(r().Fragment,null,r().createElement(g.Dy,{as:"h3",variant:g.$e.canon,color:"var(--spice-text)",className:l.Z.sectionTitle},o.ag.get("artist.about")),le&&r().createElement(E.o,{maxLines:4,content:(h||"").trim(),onExpanded:H,htmlContent:P&&f?f:void 0,LinkComponent:Ae.Z}),re&&r().createElement(Te,{topics:b||[]})),r().createElement(Ye,{showId:t,uri:d}),v&&r().createElement(I._,{menu:r().createElement(O.k,{uri:v.uri,showUri:d,sharingInfo:v.sharingInfo})},r().createElement(he,{label:o.ag.get("track-trailer"),className:l.Z.trailer,images:v.coverArt||[],title:v.name,duration:v.duration.milliseconds,moreButton:r().createElement(L.y,{menu:r().createElement(O.k,{uri:v.uri,sharingInfo:v.sharingInfo,showUri:d})},r().createElement(U.z,null)),onClick:Q,isPlaying:X,isActive:j,size:be.LARGE,contentRating:null===(i=v.contentRating)||void 0===i?void 0:i.label,enableEncoreWebMigration:w}))),r().createElement("div",{className:l.Z.episodes,"data-testid":"show-all-episode-list"},r().createElement("div",{className:l.Z.episodesHeader},M&&r().createElement("div",{className:l.Z.episodesFilter},r().createElement(Ge,null)),!M&&r().createElement(g.Dy,{as:"h3",variant:g.$e.canon,color:"var(--spice-text)",className:l.Z.sectionTitle},o.ag.get("mwp.podcast.all.episodes")),z&&r().createElement("div",{className:l.Z.episodesSort},r().createElement(Se,null))),r().createElement(oe,{showMetadata:e,usePlayContextItem:_})),r().createElement(s.k,{copyrights:[]})))},Rt=r().memo((()=>{const{showId:e}=(0,i.UO)(),t=function(e,t){const[a,r]=(0,n.useState)(null),l=(0,ht.z)();return(0,n.useEffect)((()=>{l.getMetadata(e,t).then((e=>{r(e)}))}),[l,e,t]),a}(`spotify:show:${e}`,(0,we.W6)(Ne.uB));return t?(0,He.l6)(t)?r().createElement(n.Suspense,{fallback:null},r().createElement(It,{metadata:t})):r().createElement(n.Suspense,{fallback:null},r().createElement(ne,{uri:t.uri},r().createElement(te,{uri:t.uri,defaultSortParam:J(t.consumptionOrder)},r().createElement(Ot,{showId:e,metadata:t})))):r().createElement(d.h,{errorMessage:o.ag.get("error.not_found.title.podcast")})}))},95289:(e,t,a)=>{a.d(t,{A:()=>h});var n=a(67294),r=a.n(n),l=a(94184),i=a.n(l);const o="w6j_vX6SF5IxSXrrkYw5",s="CbHJjxYxldG7uUPMYMaP";var c=a(76343),m=a(26115),u=a(74594),d=a(20246),E=a(30005),g=a(21691),y=a(6577),p=a(62012),v=a(28248);const b=({selected:e,onSelect:t,options:a,sortOrder:n})=>{let l;return n&&(n===v.kn.ASC||n===v.kn.SECONDARY_ASC?l=r().createElement(y.c,{iconSize:16}):n!==v.kn.DESC&&n!==v.kn.SECONDARY_DESC||(l=r().createElement(p.e,{iconSize:16}))),r().createElement(E.v,null,a.map((({key:a,value:n})=>r().createElement(g.s,{role:"menuitemradio","aria-checked":a===e.key&&!l,key:a,onClick:()=>t(a),icon:a===e.key&&l},r().createElement(c.Dy,{variant:c.Dy.mesto},n)))))};const h=({options:e,selected:t,onSelect:a,isSelectionChanged:n,sortOrder:l,variant:E=c.Dy.mesto,color:g})=>{const[y]=e;t||(t=y);const p=n?n(t):t!==y;return r().createElement(d.y,{renderInline:!0,menu:r().createElement(b,{selected:t,options:e,onSelect:a,sortOrder:l})},((e,a,n)=>r().createElement("button",{className:i()(o,{[s]:p}),onClick:a,ref:n,type:"button"},r().createElement(c.Dy,{variant:E,color:g},t.value),e?r().createElement(m.q,{iconSize:16}):r().createElement(u.m,{iconSize:16}))))}},94233:(e,t,a)=>{a.d(t,{k:()=>o});var n=a(67294),r=a.n(n),l=a(76343);const i="rTMkDBDp47Eo12ZEQv4U",o=({copyrights:e,courtesyLine:t})=>{const a=(e||[]).map(((e,t)=>{const a=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(Â©\s+)/,"").replace(/^(â\s+)/,"");let n;return n="C"===e.type?"Â©":"P"===e.type?"â":`(${e.type})`,r().createElement(l.Dy,{as:"p",variant:l.Dy.finale,key:t,dir:"auto"},`${n} ${a}`)}));return t&&a.unshift(r().createElement(l.Dy,{as:"p",variant:l.Dy.finale,key:a.length,dir:"auto"},t)),r().createElement("div",{className:i},a)}},14535:(e,t,a)=>{a.d(t,{e:()=>u});var n=a(67294),r=a.n(n),l=a(20657),i=a(94184),o=a.n(i);const s="aAr9nYtPsG7P2LRzciXc",c="fBTYgGyvIbHizHIj7AAX",m="oUzIIkcyBdRs7hrwbwIo",u=r().memo((({isFollowing:e,onClick:t,disabled:a=!1,buttonText:n})=>{const i=e?l.ag.get("following"):l.ag.get("follow");return r().createElement("button",{type:"button",className:o()(s,{[c]:e,[m]:a}),onClick:t},n||i)}))}}]);
//# sourceMappingURL=xpui-routes-show.js.map